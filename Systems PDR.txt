BITS PILANI STUDENT SATELLITE TEAM
Preliminary Design Review Report


First Draft
  



Systems Level PDR












June 2025


Table of Contents
Table of Contents        1
1. Introduction        4
2. Mission        5
2.1 Mission Objectives        5
2.2 Mission Specifications        5
Experiment Design Summary        6
2.3 Payload Specifications        6
A) Introduction        6
B) Experiment Design        7
Experimental Setup        7
Cell Culture Details        7
C) Environmental Control        8
Temperature Control        8
Oxygen-level Control        8
pH Control        8
Nutrient and Supply waste removal        8
D) Monitoring and Data Collection        8
Sensors        8
Data logging        9
E) Automation and Control        9
F) Power Requirements        9
Estimated Power Consumption        9
G) Structural and Thermal Considerations        9
H) Safety and Containment        10
I) Components and Materials        10
Components        10
Materials        10
J) Testing and Validation        10
Ground Testing Plan        10
Validation        11
2.4 Orbit Selection        11
Selected Orbit Parameters (Preliminary):        11
3 Spacecraft Configuration        11
3.1 Major Specifications        13
3.2 Payload Configuration        14
3.3 Structure        14
3.3.1.  Categories of Structures        15
3.3.2.  Selection of Materials        15
3.3.3.  Mass Budget        16
3.3.4.  Mechanical Constraints        17
3.3.5  Configurational Tradeoffs        17
3.3.6 Antenna Deployment System        19
3.3.6.1 Requirement and Constraints        19
3.3.6.2 Components        19
3.3.6.3 Material Selection        19
3.3.6.4 Design        20
3.3.7 Joining Methods        20
3.3.8.  Dynamic Analysis        21
3.3.8.1 Modal Analysis        22
3.4. Thermal Analysis        22
3.4.1 Thermal Requirements        23
3.4.2  Thermal Control Methods        24
3.5. Electronics and Power Subsystem        26
3.5.1 Power Generation        27
3.5.1.1 Solar Panels        27
3.5.1.3 Battery        30
3.5.1.3.1 Battery Capacity Calculations        31
3.5.1.3.2 Battery Charging/Discharging        31
3.5.3 Power Conditioning        35
3.5.3.1 Boost Converter        35
3.5.3.2 Buck Converter        35
3.5.4 OCPC and Load Switching        37
3.5.6 HOUSEKEEPING        39
3.5.6.1  Current sensor        39
3.5.6.2 Temperature sensor        40
3.5.7 Software Control        40
3.5.7.1 Software Design        40
3.5.8 Choice of MCU        41
3.5.8.1 Microcontroller Interfacing        41
3.5.9 Tentative Component List for EPS        42
3.6 On Board Computer        43
3.6.1  OBC functions:        44
3.6.2 Hardware requirements        44
3.6.3 Hardware description        44
BeagleBone Black Industrial        44
3.6.4 Operating System        46
Secure boot and memory integrity        47
Fault Tolerant Scheduling        47
Runtime Verification        47
3.6.5 Device and Process Management        48
3.6.5.1 Types of Actors        48
3.6.5.2 Flight Plan Modes        49
Normal modes:        49
Emergency modes:        49
3.6.6 Sensor Interfacing        52
3.6.6.1 Electrical Power System        52
3.6.6.2 Attitude Determination and Control System        52
3.6.6.3 Telemetry and Ground Station Subsystem        53
3.6.6.4 Thermal System        53
3.6.6.5 Payload        53
3.6.7 Monitoring and Status checking        53
3.6.7.1 How housekeeping data is obtained from various subsystems:        53
3.6.7.2 How housekeeping data is used:        54
3.6.7.3 Data collected from different subsystems and sensors:        54
EPS:        54
ADCS:        54
TTC:        54
Payload:        54
3.6.8 Interaction with other subsystems        54
3.6.8.1 Electrical Power System        54
Boot Sequence:        55
Other Communications with EPS:        55
3.6.8.2 Communication and Ground station        56
Command interpretation        56
3.6.8.3 Attitude Determination and Control System        56
Attitude Control Algorithm        57
3.7 Telemetry, Tracking and Command Subsystem        58
3.7.1         Subsystem Objectives        58
3.7.2 Subsystem Requirements        58
3.7.2.1 Structural and Thermal        59
3.7.2.2 Electrical Power Subsystem (EPS)        59
3.7.2.3 On-Board Computer (OBC)        59
3.7.3 On Board Communication Architecture        60
System Design        60
On-Board Components        61
Microcontroller Unit        61
Transceiver        61
Component Chosen:        62
Power Amplifier        64
RF Switch        64
Micro-controller to Transceiver Interfacing        65
CC1101 Registers and SmartRF Studio        66
On-Board Antennas        66
Turnstile Antenna        67
Deployment Circuit        68
3.8 Ground Station        70
System Design        70
Antennas        70
Ground Station Components        73
Low Noise Amplifier (LNA)        73
Transceiver        76
AX.25 Implementation on Ground Station PC        77
Rotor control and Satellite Tracking        78
Hardware        78
Software        80
Signal Decoding Process        80
3.9 Telemetry Flightplan        85
4.0        86



1. Introduction
The Birla Institute of Technology & Science, BITS Pilani is an Indian institute for higher education. BITS Pilani was declared as an institution deemed to be a university under Section 3 of the UGC Act in the year 1964—one of the earliest to be recognized so.
Since then, in keeping with its legacy and the mandate of its Founding Chairman, BITS Pilani has pioneered numerous visionary initiatives in higher education and has built a formidable reputation for excellence.
BITS Pilani has been consistently ranked among the top private institutions in India. Over the years, it has provided the highest quality of technical education to students from all across the country. Its alumni are globally placed across domains including engineering, science, and commerce. BITS is a symbol of India’s maturing technical capability and "can-do" entrepreneurial spirit.
The mission of BITS is to impart knowledge and education in areas of science and technology that will best serve the nation and the world in the 21st century.
In 2013, following in the footsteps of leading global and Indian universities, BITS Pilani ventured into the space domain through a nanosatellite initiative—Project Anant.
The current mission aims to study the growth behavior of Cutibacterium acnes in a controlled microenvironment using a cost-effective, miniaturized lab-on-chip platform. The experiment involves a microfluidic chip with integrated nutrient reservoirs and real-time sensing through fluorescence-based detection, dosimeter readings, and photodiodes.
The collected data will be analyzed by the faculty team at BITS Pilani to study bacterial proliferation in space and assess the efficacy of microfluidic platforms for biomedical applications in space.
2. Mission
2.1 Mission Objectives
* To empower BITS students with hands-on experience in the design, analysis, fabrication, and testing phases of satellite development.

* To foster learning in the domains of satellite systems and space technology.

* To build experience in multidisciplinary system engineering and collaborative teamwork.

* To demonstrate a low-power, miniaturized bacterial growth experiment in microgravity using a microfluidic lab-on-chip system with fluorescence sensing and real-time environmental monitoring.

* To analyze the effect of nutrient flow and external environmental parameters on the growth of Cutibacterium acnes using photodiode and dosimeter data.

* To develop and operate an onboard computing system running a custom OS capable of autonomous experiment control, data acquisition, and processing.

* To gain operational experience in maintaining and managing a satellite in Low Earth Orbit.

2.2 Mission Specifications
Given the goal of demonstrating a low-cost, low-power biological experiment in space, all sensors and components were chosen keeping in mind:
   * Power efficiency

   * Mass and volume constraints

   * Reliability and ruggedness

   * Data generation rate and communication capability

Experiment Design Summary
      * Fluorescence Monitoring: A photodiode detects changes in fluorescence intensity from the biological sample. This enables tracking bacterial growth over time.

      * Radiation Monitoring: A dosimeter records the radiation profile throughout the mission duration.

      * Environmental Monitoring: A temperature sensor logs internal conditions, helping correlate growth behavior with ambient parameters.

      * Custom Onboard Computing: All data is logged and processed using a mission-specific OS on an onboard processor capable of autonomous control and scheduling.

      * Power Budget: All sensors are designed to operate within a constrained power envelope (value to be filled in). Duty cycles and data logging intervals are configurable.

2.3 Payload Specifications
A) Introduction
The Payload Subsystem is designed to conduct a biological experiment in space, focusing on the growth and behavior of Cutibacterium acnes (C. acnes) under microgravity conditions. This bacterium, a key component of the human skin microbiome and associated with acne vulgaris, will be studied to understand microbial behavior in extraterrestrial environments. The experiment will utilize the Doubleflow Standard Chip from Beonchip, a microfluidic device that enables precise mechanical fluid transfer and effective waste management. This chip will house the C. acnes culture, ensuring controlled nutrient delivery and waste removal, which are critical for maintaining stable experimental conditions in the CubeSat environment.
  

  









B) Experiment Design
The experiment aims to maintain a culture of P. acnes in a controlled environment within a CubeSat, monitoring its growth and environmental parameters. The key objectives are:
         * Monitor the growth of C. acnes under microgravity conditions using optical density measurements.
         * Measure environmental parameters such as temperature and UV exposure.
         * Assess enzymatic activities, such as protease production, using fluorescence-based assays with different fluorescence values.
Experimental Setup
         * Microfluidic Chip: Which integrates a culture well with a microfluidic channel via a porous membrane, enabling mechanical fluid transfer for nutrient supply and waste removal.
         * Nutrient Delivery System: Supplies fresh Tryptic Soy Broth (TSB) medium, with dyes and reagents (e.g., fluorescent substrates) passed through the nutrient media in the microfluidic chip.
         * Waste Management: The chip’s fluid transfer system removes spent medium and byproducts, preventing waste accumulation.
         * Sensors: Monitor temperature, UV exposure, optical density, and fluorescence.
         * Microcontroller: Manages data collection and system control, including fluid transfer operations.
Cell Culture Details
         * Organism: Propionibacterium acnes (reclassified as Cutibacterium acnes), a Gram-positive, anaerobic to aerotolerant bacillus.
         * Growth Requirements:
         * Temperature: 20-37°C (survival range; optimal growth at 30-37°C)
         * pH: 6.0-7.0
         * Oxygen: Prefers anaerobic conditions but tolerates oxygen exposure.
         * Nutrients: Organic carbon sources, primarily fatty acids, supplied via TSB medium with added dyes and reagents.
         * Growth Rate: Slow, with a doubling time of approximately 5.1 hours.
C) Environmental Control
   Temperature Control
         * Requirement: Maintain temperature between 20-37°C to ensure cell survival and activity.
         * Implementation: Passive thermal control using multi-layer insulation (MLI) to stabilize the temperature within the payload compartment, relying on internal heat from CubeSat electronics. No resistive heating will be used.
   Oxygen-level Control
         * Requirement: Maintain low oxygen levels for the anaerobic preference of P. acnes.
         * Implementation: The microfluidic chip will be sealed, and the medium will be pre-reduced to minimize oxygen content.
  pH Control
         * Requirement: Maintain pH between 6.0 and 7.0.
         * Implementation: Use of buffered TSB medium.
  Nutrient and Supply waste removal
         * Requirement: Continuous nutrient supply with dyes and reagents, and effective waste removal to sustain the culture and enable fluorescence assays.
         * Implementation: The BE-Transflow chip’s microfluidic channels will be used for mechanical fluid transfer, circulating TSB medium with dyes and reagents through the culture well while removing waste products via the porous membrane.
D) Monitoring and Data Collection
Sensors
         * TMP117 High-Precision Temperature Sensor: Ensures accurate temperature monitoring within the 20-37°C range.
         * RadSense2: A dosimeter, to measure the radiation incident on the bacterial culture.
         * Optical Density Measurement: A 600 nm LED paired with an S1336 photodiode measures optical density (OD600) to track bacterial growth.
         * Fluorescence Measurement: A 488 nm LED paired with a second S1336 photodiode, equipped with a 520 nm bandpass filter, detects different fluorescence values (e.g., from BODIPY FL casein for protease activity).
Data logging
         * The microcontroller will collect sensor data at regular intervals (e.g., every 10 minutes), store it locally, and prepare it for transmission to Earth. The chip’s design allows for precise control over fluid dynamics, aiding in the accurate monitoring of growth and enzymatic activities.


E) Automation and Control
The microcontroller will manage the following automated processes:
         * Fluid Transfer Control: Activate the peristaltic pump at set intervals to circulate the medium with dyes and reagents through the chip, ensuring nutrient delivery and waste removal.
         * Optical Measurements: Control the LEDs for optical density and fluorescence measurements, pulsing them periodically to conserve power.
         * Data Collection: Collect and log data from the temperature, UV, and optical sensors.
         * Operating Modes: Initialization, growth monitoring, and data collection.


F) Power Requirements
Estimated Power Consumption
         * Peristaltic Pump (for fluid transfer): ~200 mW (active intermittently)
         * LEDs: ~50 mW each (600 nm and 488 nm, pulsed for measurements)
         * Sensors and Microcontroller: ~60 mW (continuous)
         * Total Estimated Power: ~400 mW peak, with average power lower due to intermittent operation.


G) Structural and Thermal Considerations
         * Housing: The BE-Transflow chip will be mounted securely within the CubeSat using vibration-resistant fixtures.
         * Materials: Transparent polymer for the chip; multi-layer insulation (MLI) for thermal stability.
         * Thermal Management: Passive thermal control with MLI to maintain temperature within 20-37°C, verified through thermal analysis. The chip’s design includes features for secure mounting and thermal management.


H) Safety and Containment
         * Containment: The BE-Transflow chip provides inherent containment through its sealed microfluidic design, with additional measures to prevent leaks.
         * Sterilization: The entire system, including the chip, will be sterilized pre-launch to avoid contamination.
         * Compliance: Adheres to biological safety standards for space missions.


I) Components and Materials
Components
         * Microfluidic Chip: enables mechanical fluid transfer and waste management.
         * Pump: Low-power peristaltic pump for fluid circulation.
         * LEDs: 600 nm for OD600, 488 nm for fluorescence excitation.
         * Photodiodes: Two S1336 photodiodes (one for OD600, one for fluorescence with filter).
         * Filter: 520 nm bandpass filter for fluorescence detection.
         * Microcontroller: Arduino Nano or space-qualified equivalent.
         * Sensors: TMP117 (temperature), ML8511 (UV).
        Materials
         * Chip: Transparent polymer.
         * Insulation: Multi-layer insulation (MLI).
         * Tubing: Sterilizable silicone for medium circulation.


J) Testing and Validation
Ground Testing Plan
         * Culture Growth and Fluid Transfer: Verify P. acnes survival and activity in the chip at 20-37°C, ensuring effective nutrient delivery and waste removal.
         * Optical Measurements: Validate OD600 and fluorescence measurements with known standards.
         * Fluidics and Waste Management: Test medium circulation with dyes and reagents, ensuring no leaks, blockages, or waste accumulation.
         * Thermal Stability: Simulate space conditions to confirm passive temperature control effectiveness.
Validation
         * Ensure the system maintains viable P. acnes cultures, manages waste effectively, and collects reliable data over the mission duration.




2.4 Orbit Selection
The following considerations were taken into account while selecting an orbit:
         * Coverage: The orbit must pass over the primary ground station and, if applicable, secondary stations.

         * Orbit Type: Preference given to Polar Sun Synchronous Orbit (SSO) due to consistent lighting conditions and revisit times.

         * Altitude: Chosen to ensure exposure to sufficient levels of radiation for scientific study, while avoiding the hazardous regions of the South Atlantic Anomaly.

         * Radiation Environment: Must expose the payload to both direct solar radiation and Earth-reflected radiation (albedo), which varies by altitude.

         * Mission Longevity: A Low Earth Orbit is ideal due to manageable lifetime (~1 year), passive deorbiting, and compatibility with nanosatellite standards.

             Selected Orbit Parameters (Preliminary):
            * Orbit Type: Polar Sun Synchronous

            * Altitude: ___ km (to be finalized; typically 500–650 km for CubeSats)

            * Inclination: ~98° (Sun-synchronous range)

            * Expected Lifetime: ~1 year
3 Spacecraft Configuration
The main objective of the mission is to demonstrate the feasibility of conducting biological experiments in space using a miniaturized lab-on-chip platform. The payload's design—featuring fluid handling, sensor integration, and real-time data acquisition—requires precise timing and autonomous control. To support this, the satellite’s operations are organized into predefined modes, managed by the onboard computer (OBC), which governs transitions based on mission timelines and sensor feedback. This mode-based approach enables efficient coordination of the payload’s functions and ensures smooth execution of the experiment throughout the mission lifecycle.


The satellite performs the desired functions due to the combined functioning of the various subsystems, which are given as below:
1.) Attitude Determination and Control subsystem (ADCS)
2.) Onboard Computer (OBC)
3.) Telemetry, Tracking and Command subsystem (TTC)
4.) Electrical Power System (EPS)
5.) Payload
6.) Structural and Thermal Design subsystem(STS)


The Telemetry, Tracking and Command Subsystem (TTC) enables reliable contact between the satellite and the ground station. It supports both uplink and downlink functionalities—where uplinked data typically includes telecommands and configuration changes, and downlinked data includes housekeeping data and payload readings. The communication protocol stack, including framing (AX.25) and encoding, is implemented on the OBC. The TTC uses a CC1101-based transceiver operating in the UHF band, and communicates via deployable turnstile and monopole antennas. The ground segment includes a rotator-controlled Yagi setup integrated with SDR-based reception and decoding.
The Electrical Power Subsystem (EPS) supplies and regulates power across all onboard systems. It manages energy harvesting through high-efficiency Azur Space solar cells and stores energy using a 2s2p Li-ion battery pack. A dedicated microcontroller on the EPS handles real-time monitoring of power generation, battery status, and distribution. The EPS also runs a Maximum Power Point Tracking (MPPT) algorithm to ensure efficient energy extraction from the solar panels under varying illumination conditions. It sends critical housekeeping data such as voltage levels, currents, and battery temperature to the OBC.
The Attitude Determination and Control System (ADCS) determines the satellite’s orientation and applies corrective action if needed. Sensors like the BNO085 IMU and GPS module provide input for determining the attitude. The primary control algorithm is the B-dot controller, which is used for detumbling post-deployment using magnetorquers. All ADCS components are interfaced with the OBC, where the algorithm is implemented and outputs are used to generate PWM signals for actuator control.
The Thermal Subsystem ensures that the satellite’s components remain within their operational temperature limits. This is particularly important for the payload and battery, both of which have narrow functional temperature ranges. Passive thermal control strategies such as MLI insulation, black anodized radiators, and thermal straps are combined with active heating elements. The battery heater is controlled by the OBC based on data from precision temperature sensors (e.g., TMP117), especially during eclipse periods.
The Structure Subsystem is designed to protect internal components during both launch and space operations. Built from aluminum 6061-T6, the structure follows the 3U CubeSat standard and provides mechanical support while minimizing mass. The layout ensures optimal placement of subsystems to maintain center-of-mass stability and thermal separation where required. It also accommodates all harnessing, mounting brackets, and deployables as per PSLV deployment specifications.
The Payload Subsystem consists of a microfluidic experiment that monitors the growth behavior of Cutibacterium acnes. The system includes an optically sealed chamber equipped with fluorescence detection using UV LEDs and photodiodes. Sensors for temperature and radiation exposure allow environmental conditions to be logged in tandem. The payload is interfaced with the OBC, which controls its operation, collects and stores data, and monitors payload health.
The On-Board Computer (OBC) is the central control unit of the satellite, based on the BeagleBone Black Industrial platform. It collects data from all subsystems, determines the satellite's operating mode, and executes the flight plan autonomously. The OBC manages data flow, runs the TTC protocol stack, executes the B-dot ADCS algorithm, and handles fault tolerance routines. It also controls the payload sequencing and storage.




3.1 Major Specifications
Mass
 • Bus Mass: < 3 kg
• Payload Mass: < 0.5 kg
Dimensions
 • Bus: 100 × 100 × 200 mm³ (as per CalPoly CubeSat specifications)
• Payload: 100 × 100 × 100 mm³
Orbit Details
 • Orbit Type: Polar Sun Synchronous
• Altitude: 500 km
• Inclination: 98°
• Mission Life: ~1 year


3.2 Payload Configuration


The Payload for the mission is a biological one and comes with several structural and thermal considerations. 


Structural Aspect: The subsystem must securely mount the biological chip, ensuring it is protected from launch-induced vibrations and mechanical shocks. Precise alignment and minimal mechanical stress are essential, especially for chips involving microfluidics, sensors, or optical components. The structural design may include specialized enclosures or damping materials to isolate the biological payload from mechanical disturbances.


Thermal Aspect: Biological chips are highly sensitive to temperature fluctuations. The thermal subsystem must maintain temperatures within narrow operational ranges (often close to physiological conditions, 20–40°C). Passive thermal control (like insulation, coatings) and active elements (heaters, thermostats) are used to ensure thermal stability. The subsystem also mitigates temperature swings due to orbital day-night cycles and internal CubeSat heating from electronics.


3.3 Structure
The mechanical structure plays an important role during launch as it has to withstand the static and dynamic loading and vibrations induced. In orbit, the structure protects the internal components against the harsh space environment. Hence a complete structural analysis is necessary for the satellite, which is undertaken by the structural subsystem. The following are the responsibilities of the group:


               * To choose the optimal design, material and framework for the satellite body by testing and simulating the loading conditions during launch and in orbit.
               * To allocate resources of dimensions and space to all other teams.
               * To provide means of mounting, fastening and cushioning all components safely.
               * To design a stable structure with moments complying with the requirements of the Attitude Control subsystem.
               * To design mechanisms for the deployment of the onboard antenna and facilitate communication by rotating the antenna used on the ground station.
               * To test the satellite model for resistance to shocks and thermal vacuum conditions.






3.3.1.  Categories of Structures
               * Primary Structure - It is the major load path between the satellite’s components and the launch vehicle. It carries the shear, bending moments, axial loads and torsion.
               * Secondary structure - It includes support beams, trusses, antenna dishes, and solar panels. It provides shielding against the space environment and thermal paths for heat transfer.
               * Tertiary structure - It includes component housing, mounting brackets, connector panels and cable support brackets.


3.3.2.  Selection of Materials
The selection of the material is based on various criteria which are defined as under: -
               * Stiffness
               * Thermal conductivity
               * Stress corrosion resistance
               * Machinability
               * Fracture toughness
               * Attachment
               * Availability and cost


Aluminum alloys are used favorably in primary and secondary structures as it has the best conductivity to weight ratio, desired thermal expansion coefficient and thermal conductivity. Due to strict limitations on weight, titanium and steel are not used because of their high density. Light metals like magnesium and beryllium are expensive and difficult to machine, and are hence not used.


A comparative study for select material properties was done as given in Table below:




Material 
	Density(kg/m3)
	Young's Modulus (GPa)
	Yield Strength (MPa)
	Fracture Toughness (MPa m0.5)
	Fatigue Strength (MPa)
	Al 2024 T81
	2780
	72.4
	280
	29
	125
	Al 6061 T6
	2700
	68.9
	320
	29
	136.5
	Al 7075 T6
	2810
	71.7
	350
	25
	139
	Ti-6Al-4V
	4430
	113.8
	680
	75
	310
	Taking into account all the factors mentioned above along with economic considerations, Al 6061 T6 was chosen as the material.
3.3.3.  Mass Budget


Subsystem
	Component
	Quantity
	Total Mass(g)
	ADCS
	PCB Board
	1
	93.7
	

	Magnetorquer Top Face
	1
	10
	

	Magnetorquer Side Faces
	2
	60
	Payload 
	Bio-Chip (Assembly)
	1
	500
	OBC
	Microcontroller
	1
	40
	Structures
	Satellite Frame
	1
	350
	

	Antenna
	1
	25
	

	Fasteners
	28
	42.5
	

	Face Plates
	1
	27
	EPS
	Battery Assembly
	1
	250
	

	Power Distribution 
	1
	23
	

	Solar Panels (large)
	4
	640
	

	Solar Panels (small)
	1
	40
	TTC
	Telemetry
	1
	31.6
	

	Antenna Assembly
	1
	90
	

	Total
	

	2222.8
	

















3.3.4.  Mechanical Constraints 
The mechanical requirements as ruled by the Calpoly standards are as follows:
               * The mass of the full assembly shall not exceed 4 kilograms.
               * The center of gravity should be located within 7 cm from its geometric center in the principal direction and 2 cm along the other directions.
               * At least 75% of the rail will be in contact with the P-POD rails. 25% of the rails may be recessed and no part of the rails will exceed the specification.
               * Rails should have a minimum width of 8.5mm.
               * Deployables should be constrained by the Cubesat, not the P-POD.
               * The Cubesat rails and standoff which are in contact with the P-POD rails and adjacent Cubesat standoffs, should be hard anodized to prevent any cold welding within the P-POD


3.3.5  Configurational Tradeoffs
               * Payload: The key requirements of the payload include stability and thermal isolation. Our payload being large and heavy will be the main component affecting the configuration design. The location chosen for it will be the forward end of the satellite keeping in mind the need to allocate sufficient volume for these features which may reduce available space for structural reinforcements or make structural integration more complex. The payload must also be accessible for data interfaces. Though its weight proves a demerit at this location, it is still chosen because
               * It is sensitive to shock, so it is kept away from the Launch Vehicle (LV) separation interface.
               * Structural load during launch is highest at the LV interface, and it is hard to keep large and sensitive payload out of the primary load path.


               * ADCS: The selected method of control dictates the satellite shape. The center of mass of the satellite should be as close to the center of pressure as possible, which is the centroid of the satellite’s projected area. Alignment is very important in ADCS sensors, so they are grouped on one platform, which is stiff and thermally stable to reduce errors from distortions. 


               * TTC: The magnetorquers are required to be placed away from the antenna to prevent Interference.


               * Electrical Power subsystem: Shadows from deployable components like antennas have to be avoided. During launch, acoustics accompanied with transient loads usually cause the highest loads in the solar panels and other mechanisms. The location of the battery is dictated by its weight, temperature sensitivity and cabling. A heavy battery should be packaged as near as possible to the launch vehicle interface. The battery also needs a location with uniform and somewhat low temperature to maximize the depth of discharge. Since the battery generates heat during use, a lot of radiator area is required to maintain low temperatures.


               * Thermal Subsystem: For passive thermal control, proper location of powered satellite components are required along with the effective use of radiators, insulations and coatings. The best location for heat generating components and radiators is the side of the satellite with the least exposure. For LEO, heating can be minimized by shading components from planetary emissions and facing radiators away from the earth. System aspects: Reliability, design life, maintainability, cost, schedule and launch, and Space environments also need to be taken into account.


               * PCB Assembly: The placement of PCBs has to be optimized in order to minimize the connections and the wires. Three possibilities for PCB Assembly were considered, which are described as follows-
               1. A stack arrangement of PCBs, which is fixed to the main structure. It has an advantage of higher rigidity as the PCBs are interconnected by a secondary structure. It is disadvantageous from a weight point of view and difficulty in establishing connections between non-neighboring PCBs.
               2. Arrangement at the faces of the satellite. The PCBs can be firmly fixed at the main frame, and saves space. However, a lot of wiring is required in this case which makes assembly/disassembly difficult. 
               3. Arrangement in slot using a motherboard (Backplane Arrangement). The various
subsystem boards are attached to the motherboard. It offers the advantage of minimizing the wiring and increasing the flexibility for disassembly. However, making this arrangement is very difficult as it requires complex circuitry knowledge.


After careful consideration, we have opted for the stack PCB arrangement out of the three, since it is easier to establish and can be easily assembled in our satellite.





3.3.6 Antenna Deployment System
3.3.6.1 Requirement and Constraints
Antenna need to be stowed in such a manner that it can be deployed without any hindrance
and least power is required to deploy them.
               * The ADS must work in the typical eclipse-sunlit temperature range of -50o C to 70o C and the vacuum.
               * It is decided to place the antenna on the face with the camera lens. This leaves 5 faces for solar panels which enhances the maximum utilization of sunlight and albedo radiation.
               * RF connections are to be done ensuring that the antenna is rigidly placed so that at the time of deployment the antenna does not get displaced or detached. For this guides are used which have the sole purpose of easy and safe deployment(safe because any contact with the body of satellite at the time of deployment will lead to displacement of antenna or damage)
               * As a rule of thumb, for any antenna design to be functional it must have a characteristic length of at least ¼ of the transmitting wavelength. For the UHF band, this corresponds to approximately 20 cm of length (detailed calculation is yet to be done).
               * The antenna should be fabricated from a highly elastic material that springs to a rectilinear shape when released.
3.3.6.2 Components
ADS consists of the following components:
               * Antenna
               * Antenna holder arms
               * Springs
               * Antenna setup base and top
               * Bolts and nuts for antenna holder
               * Bolts and nuts for antenna setup
               * Nichrome wire strip
3.3.6.3 Material Selection
The deployment mechanism requires that the antenna should be coiled on a single face of the satellite, as opposed to being wrapped around the satellite. The release mechanism utilizes a compression spring system in order to apply a force and a stroke to the nichrome burn wire. When a constant current is applied to the nichrome wire, it will thermally cut through a Vectran tie down cable allowing it to release the deployable antenna. The deployed position of the VHF and UHF antenna’s axis should be orthogonal to each other for better RF performance of the antennas. Dual redundant deployment system offers a safe and secure deployment.
3.3.6.4 Design
The basic design model consists of an envelope in which antennas are stowed in a coil. Individual slots are machined which contain the antennas. For the design process ISIS deployable UHF/VHF antenna design is under study. The advantages of using this design are as follows:
               * Configuration of the antennas can be changed. We are using an omnidirectional antenna which may lead to a loss of 3dBi at the ground station due to the polarization difference. There exists a trade-off between an omnidirectional antenna and a turnstile antenna. The latter is circularly polarized and reduces this loss but requires more power. The current ADS design allows us to switch between the two possibilities, if needed, based on the link budget.
               * The compact structure goes under the feet of the payload face of Cubesat. This is safer, in terms of launching vibration, than the one in which the whole ADS is on the face-plate of the Cubesat. Individual antennas have slots in which they are stowed in a coiled manner. This can be a reliable approach as the excess length of the dyneema/nylon wire can be checked and a common heating element solves the areal constraint. Moreover, heat loss to the space is minimized to a comfortably low level in the envelope.


3.3.7 Joining Methods
The following considerations should be kept in mind while choosing the type of attachment to be used
               * Joint Strength
               * Fatigue life
               * Type of structure and application
               * Alignment
               * Access
               * Materials of the joining parts


The possible methods of attachment are described as follows:
               1. Fastening - Most fasteners consist of a load bearing shaft and a head or nut on each end. This type includes threaded fasteners and rivets. They add damping to the structure. They are suitable for structures and mechanisms made of ductile materials, however they also add to the weight of the satellite.
               2. Welding - It is a permanent form of attachment. It can cause distortions and cracks in some
materials. Disassembly is not possible in this method. 
               3. Adhesive Bonding - Adhesive bonding is used for isolating solar cells from the support structure. It offers the advantage of distributing the loads over the entire joined region instead of locally at the fasteners. However, disassembly is not possible in this case too.


For our satellite we have used titanium standoffs and rivets for internal assembly and adhesive bonding for bonding between solar panels and internal assembly.
The following table gives a list of possible adhesives that can be used. ScotchWeld has been considered as a possible option based on factors such as reliability, coefficient of thermal expansion, cost, cure temperature etc




Adhesive
	Chemical Composition
	Shear Strength (MPa)
	Temperature Range (C)
	CTE (um/K)
	Thermal Conductivity(W/mK)
	Curing Temperature (C)
	Araldite
	Epoxy
	43
	<120
	67
	0.35
	65
	ScotchWeld
	Modified Epoxy
	21.3
	<80
	45-180
	0.39
	70
	Epo-Tek U300
	Epoxy
	10.3
	<200
	43
	-
	80-150
	DC 93500
	Silicone
	5.8
	<200
	300
	0.15
	-
	3.3.8.  Dynamic Analysis
The satellite is exposed to different loading conditions during launch phase and in between transit to the final orbit. All these loading conditions such as acceleration during launch, vibrations due in-orbit transit deployments, and thermal expansion of the satellite during orbit can lead to failure of sensitive components on board and plastic deformations in the secondary structure which can lead to complications during deployment. Need is to analyse the current design under these loads and reiterate it to sustain the launch loads and in-orbit transit.


Given below is a short description of each of the launch loads.
               * Static Loading: stress generated due to the assembly of components due to weight, fasteners and springs.
               * Quasi-static accelerations: stress generated due longitudinal and lateral accelerations generated during the launch.
               * Thermal Loads: Stress generated in the satellite during the transit due to the rise in temperature due to friction.
               * Shocks: the shock due to a pyro device enabling the release of multiple satellites and the during the stages of launcher.
               * Dynamic Loads
               * Low Frequency Vibrations: This includes the vibration due to the running of engines.
               * Random Vibrations: Vibration and noise coming from engine during lift-off and flight. And due to the turbulence in the boundary layer.
               * Acoustic Loads: Noise produced by the engine, mixing of air and exhaust gasses.


To study the dynamic and frequency response, a finite element model is created and prescribed loading cases are applied to verify that the structure can withstand the launch phase. Applying representative loads to simulate launch environment will provide estimates of static and dynamic
3.3.8.1 Modal Analysis
Modal analysis is a technique used to determine the vibration characteristics of the structure. It will give the natural frequencies and the mode shapes of the structure. First natural frequency of the structure should be greater than 120Hz. Modal analysis will also be the basis for random and sine dynamic simulations.
[M] {ü} + [C]{u̇} + [K]{u} = {F}


[M]=Structural mass matrix                                                         {ü} = Nodal acceleration vector
[C]=Structural damping matrix                                                 {u̇} = Nodal velocity vector
[K]=Structural stiffness matrix                                                 {u} = Nodal displacement vector
Random vibrations are generally generated by the operation of the engine and noise generated by the rocket. In random vibrations, several frequencies act on the structure at the same time. Since instantaneous magnitude of the vibrations are not known for a given instant, statistical approach is used for input and the response of the structure.


To verify that the structure can withstand sinusoidal accelerations from the launch vehicle, harmonic response analysis is done along all three axes. The boundary conditions remain the same as in the modal analysis. Harmonic loads are due to the hydraulic systems of the engines. The sine vibration requirement imposes acceleration level spectra that CubeSats must withstand in the P-POD.
3.4. Thermal Analysis
Satellites are generally subjected to extreme temperature variations in space, ranging from -50°C to +80°C. Most of the components are designed to operate within a certain range around the room temperature. If the temperature limits are not maintained, their performance decays drastically, ultimately leading to failure especially in the case of a biological payload. The role of the thermal subsystem is to design thermal management solutions that can satisfy the operational limits of all the components installed on the spacecraft. The orbital parameters also play a huge role in determining an effective thermal design. Our satellite would be operating in a Low Earth Orbit that has a period of the order of an hour and a half. In such a case, the satellite receives environmental heating flux in the form of direct sunlight, sunlight reflected off Earth (albedo) and infrared energy (IR) emitted from Earth. The temperature control can be achieved, either by using passive methods, such as surface finishes, paints, multilayer insulations, etc. or active methods such as heaters, louvers, etc. For their cost effectiveness and flexibility, passive measures are usually preferred, however, active means may be required when passive measures are not able to provide enough thermal protection.


The Thermal simulation was performed on COMSOL 6.2 to accurately predict the temperature response with a much larger number of nodes and make recommendations for better thermal control of the satellite in orbit using the fluxes obtained from the Satherm code. COMSOL was chosen for its smooth compatibility with MATLAB and important CAD software like SolidWorks.
3.4.1 Thermal Requirements
Our satellite, being a 2U Cubesat, is exposed to extreme variations in temperatures. It consists of various components such as solar panels, a battery stack, a PCB stack, magnetorquers, a hyperspectral imaging payload, etc. All of these have particular working temperature ranges and it is the responsibility of the thermal subsystem to ensure that these components work within their specified range only.




S.No
	Component
	Average Operating Range (C)
	1
	Magnetorquer
	[-40,80]
	2
	Battery
	[0,30]
	3
	Sun Sensors
	[-60,80]
	4
	Biological Payload
	[20,30]
	5
	EPS
	[-20,70]
	6
	OBC
	[-20,70]
	7
	Structure
	[-45,65]
	



3.4.2  Thermal Control Methods
               1. MLI Blankets - Multi-Layer Insulation (MLI) Blankets are made up of multiple thin sheets of a highly reflective material, and a netted spacer material. MLI primarily reduces heat loss by radiation, but is not much effective in reducing heat loss by conduction. It works on the principle of radiation balance and Stefan Boltzmann’s law. Ideally, a perfectly insulating blanket would be a blanket that reflects 100% of the incident radiation. However, it is very hard to fabricate a single sheet blanket that accomplishes this. So many highly reflective layers are stacked on top of each other in order to achieve higher and higher reflectivity, and further reduce radiation losses. The individual layers should not touch, as they would transfer heat between them, resulting in no added insulation benefit. So a spacer material is required to space them apart for this purpose. The satellite would be thermally insulated using MLI blankets with sufficient window cut outs.The following table gives a list of the probable MLI blankets that may be used.








Product Name
	Foil 
	Spacer
	Layers
	Operating Range (C) 
	AAErotherm S10-150
	Polyester 6um (both sides)
	Polyester non woven fleece
	10
	[-270,150]
	AAErotherm S10-190
	Polyimide 7.5 um (both sides)
	Polyester woven netting
	10
	[-270,190]
	AAErotherm S22-190
	Polyimide 7.5 um + Polyester 6 um (both sides)
	Polyester woven netting
	22 (10 polyimide+10 polyester+2)
	[-270,190]
	AAErotherm H22-250
	Polyimide 7.5 um (both sides)
	Glass Fibre fleece polyester woven netting
	22 (10 polyimide+10 polyester+2)
	[-270,250]
	

               2. Optical Solar Reflectors - They consist of a second surface mirror (reflector having a low emissivity) under a transparent cover (having a high emissivity).They are used to reduce the absorption of external solar heat loads and increase the heat rejection capability of the external radiators at the same time. The metalized reflector reflects a large percentage of the incident radiation. Silver coated Teflon is commonly used due to its low cost and high ruggedness. Currently, we are considering the use of 2-mil silvered Teflon for use in our satellite, based on surface properties and cost, which would be used in the window cutouts.


OSR Type
	Absorptance 
	Emittance
	8-mil quartz mirror
	0.05 to 0.08 
	0.8
	2-mil silvered teflon
	0.05 to 0.09
	0.66
	5-mil silvered teflon
	0.05 to 0.09
	0.78
	2-mil aluminized teflon
	0.1 to 0.16
	0.66
	5-mil aluminized teflon
	0.1 to 0.16
	0.78
	







               3. Paints and metallic finishes: Black paint is used on the interior of the vehicle to facilitate radiation heat transfer among the heat dissipating internal components. The white paints are used on the exterior surfaces to minimize absorbed solar energy. Most of the paints have a high emittance. The paint is chosen considering the electrical conductivity, solar absorptance and ease of application to meet grounding requirements. Low-emittance metallic finishes are used in cases where radiative heat transfer is required to be minimized. 


S.No
	White Paint Type
	Absorptance 
	Emittance
	1
	PCBZ
	0.16 to 0.24
	0.87
	2
	Z93
	0.17 to 0.20
	0.92
	3
	ZOT
	0.18 to 0.20
	0.91
	4
	Chemglaze A276
	0.22 to 0.28
	0.88
	

S.No
	Black Paint Type
	Absorptance 
	Emittance
	1
	Chemglaze Z309
	0.92 to 0.98
	0.89
	2
	3m Black Velvet
	0.95 to 0.97
	0.84
	3
	ML 210 IB
	0.96 to 0.98
	0.91
	

S.No
	Metallic Finish Type
	Absorptance 
	Emittance
	1
	Vapor Deposited Aluminum
	0.08 to 0.17
	0.04
	2
	Vapor Deposited Gold
	0.19 to 0.30
	0.03
	3
	SiOx on VDA Tape
	0.14
	0.12
	

Heaters - To avoid low temperatures during the eclipse the implementation of heaters has been found to be an adequate solution. Heaters can be used with thermostats or solid-state controllers to provide precise temperature control of a particular component. Another use for heaters can be to warm up components to their minimum operating temperatures before the components are turned on. Most commonly a patch heater is used in active thermal control of a satellite. It consists of an electrical-resistance element sandwiched between two sheets of flexible electrically insulating material, such as Kapton.
In case of a battery, the efficiency and capacity decreases rapidly as soon as the temperature falls below the operating temperature, a heater is essential for the worst cold case condition of the satellite.




3.5. Electronics and Power Subsystem
The Electrical Power Subsystem (EPS) is one of the six subsystems of the CUBESAT. It is the first one to be turned on after deployment into orbit and is essential for the operation of other subsystems. In this regard, the design of a reliable power subsystem is crucial to the success of the mission.
The functions of the EPS can be broadly classified into 3 categories,
               1. Power Generation
               2. Power Storage
               3. Power Transmission


There are also a few secondary tasks such as data housekeeping, overcurrent protection etc., all of which are discussed in detail in the following sections.
The design of the subsystem is divided into two parts- hardware and software. While the hardware design is straightforward, the software design aims to implement a logic control for the subsystem. This logic control resides on a microcontroller and determines the modes of operation of the subsystem. The final section of this document covers the design of an effective logic controller.




3.5.1 Power Generation
3.5.1.1 Solar Panels
Solar Panels are used to convert solar energy to electrical energy. The current generated depends on the illuminated area of the panels. To utilize a maximum amount of available optical energy, it is necessary to design a solar cell with a large junction area located near the surface of the device.
The conventional solar cells typically provide an efficiency of 10-20% for the conversion of solar energy to electrical energy. In order to improve this number, we choose multi-junction solar cells, with more than one p–n junction. Each of these junctions is made of different semiconductor materials. Multi-junction solar cells have higher efficiencies because each material’s p-n junction will produce a current in response to different wavelengths of light. Since sunlight is a combination of different wavelengths, the use of multiple semiconductor materials allows a broader range of wavelengths to be absorbed, increasing the efficiency of the cell. Typical multi-junction cells show an enhanced efficiency of around 30%.




The dimension of a typical solar cell is 40 x 80 mm ± 0.1 mm. The cell area is 30.18 𝑐𝑚2. The area of large side is 20 x 10 𝑐𝑚2 and area of small side is 10 x 10 𝑐𝑚2.


No. of solar cells on large side =20cm / 4.cm= 5 or, 5 solar cells No. of solar cells on small side=10cm / 4cm =2.5 or, 2 solar cells
The 4 side faces of the satellite would have 7 solar cells each, while the top face has 2 cells.
So, the total number of solar cells are = (5×4) + 2 = 22 solar cells The following table gives the specifications of the chosen solar cells.


 https://lh5.googleusercontent.com/8_4NZC6Jpy-z-Y0oyj6d2VcR1p4i2uyb2mwwok5kyFXpg2sXWY6TKJaqH491azRirbWn6Vc03eS5mvHxi6PRNhpz4jVv97HyE1Riyhzi-IEH1ErRbbNhjGaqpOCUW__WJNgCxqnh 



Parameter
	Value
	VOC (Open Circuit Voltage)
	2700 mV
	VMP (Voltage at Peak Power Point)
	2414 mV
	ISC (Short Circuit Current)
	520.2 mA
	IMP (Current at Peak Power Point)
	504.4 mA
	Maximum Efficiency
	29.8%
	Dimensions
	40 mm x 80 mm
	

Table: Manufacturer data for Azur Space solar cells https://lh3.googleusercontent.com/NA_rgNDxMMCiqCQYYEyaW_ECVC0n8J5rZO1eo9wZyeSZreyBOsMMuW1dJHAhhSP8GiH44rrKbe2C5sXjOTAR5zKB-RpuHXdXmdPl4Kpy20_2PhiN65bx6bX1sBeuXz2ppj7ic4IQ 


Figure: I-V and P-V characteristics of solar panel for different irradiance
 https://lh6.googleusercontent.com/v6AOHFLonO1nAbygN_CWgBSs2VqyTpRsac0b21OeNXCwvO2zBgkisYvqVy-KTMz4DHGdk9CUY_X4rJMiyMz0EMLBSoOfR4dKY2xbfVpitNBQIEO5zoIgeSoFXofyJsrNcGNsMm9d 

Figure: I-V and P-V characteristics of solar panel for different temperatures
3.5.1.2 Maximum Power Point Tracking (MPPT)
As the I-V curve for a solar cell is non-linear, the power generated by these cells changes with the operating voltage level. The power increases up to a maximum value as the voltage increases, and then falls rapidly, as shown in figure. The voltage at which the maximum power is generated is called 𝑉𝑚𝑝𝑝.
 https://lh3.googleusercontent.com/RDMdszNi_J05Bb0-3kAPhyOUl4oJlX6YLwmsso0rsHwjlsrL1hU6ubzwx63Y8tTELQSPbIHuvEN-QH-PiMbgExKqv5mf5FXbw3h0mSghDRD3HHp5NZLGc18Emd8r9SONKQKbKPeo 

Figure: I-V curve for a Solar Cell


Connecting the solar array directly to the bus without any control over the operating point has several disadvantages:
               * Changing the bus voltage will change the operating point of the solar cells. Hence, the power being generated will fluctuate over a large range, deviating from the Maximum Power Point.
               * Even if we fix the bus voltage, the 𝑉𝑚𝑝𝑝 changes with temperature fluctuations. As we are expecting the temperature to vary from about -40oC to +80oC, the solar array will not operate optimally under different conditions.


To resolve these issues, we choose to implement the maximum power point tracking (MPPT) algorithm. According to the peak power transfer theorem, the maximum power is transferred when the impedance of the source matches the impedance of the load. The same principle is used here. To implement the MPPT, we choose a suitable converter to connect the solar array to the battery and the main power bus. We then match the input impedance of the converter which is connected to the solar cells, to the output load of the converter by manipulating the switch.


There are a variety of algorithms that are capable of tracking the maximum power point. The simplest algorithm is ‘Perturb and Observe’. As the name suggests, we continuously perturb the duty cycle and check if the power generated is around the maximum power point. The other MPPT algorithms include incremental conductance, fuzzy logic control etc. We are yet to test the efficiency and applicability of each algorithm to select the best option.
3.5.1.3 Battery
The battery is one of the largest and heaviest components of the satellite. It is a combination of cells arranged in series-parallel combinations to provide the required charge and voltage level at the output. It takes intense structural and thermal study to make it possible to even accommodate batteries in a nanosatellite. In such a scenario, it is only natural to make sure that the batteries chosen are as light and small as possible without compromising on energy needs. Keeping these needs in mind, it is prudent to use batteries employing Li-Ion technology as they offer better energy density and are lighter than NiCd or NiMH batteries. Also, the batteries exhibit no memory effect, which is desirable as it leads to the possibility of more charge- discharge cycles.
Currently, Panasonic NCR18650B rechargeable cells with a typical capacity of 3350 mAh and a nominal voltage of 3.6 V are being used.
  

Table: Panasonic NCR18650B battery specifications


The battery capacity and its current state are depicted by the means of SoC and DoD. State of Charge (SoC) is a measure of the battery’s current status and is calculated from the discharge curve (V v/s SoC) provided by the battery manufacturer. It is a stated goal of battery design to provide a constant voltage as much as possible, irrespective of the SoC. The Depth of Discharge (DoD) is the opposite of SoC and is often considered whenever we are concerned with the battery lifetime. The DoD complements the SoC: as one increases, the other decreases. 100% SoC is equivalent to 0% DoD, both referring to a fully charged battery.
The C-rate of a battery is defined as the rate at which it is discharging or charging. A C-rate of 0.5C for a 1000mAh battery implies a charging current of 500mA. https://lh4.googleusercontent.com/2mfY5PykmpSdQ2ec_SDBspeYB2zZtUH_S-iGGW-eYHGz9qAkqNbtXgsj2Rn-n5GdmMKt8fFd7f3gCP5ZzPYiHnKj4R_cZPTqL97GkkuK54kEYJOvnMPmRHEVb8GYa4Rl4dgGOkOJ 








Figure: Battery charging rate for different C-rates
  

Figure: Discharge Characteristics of Battery


3.5.1.3.1 Battery Capacity Calculations


The capacity of the required battery pack is decided by analysing the most energy intensive task in eclipse when no solar power is available. From analysing the power budget, it is found that the most intensive task is . On average, a pass lasts around 15 minutes, and the satellite operates in the pre-pointing mode for around 10 minutes before that. This battery capacity is calculated based on the assumption that the entirety of the two modes, namely ‘Downlink’ and ‘Pre-pointing’ take place for a total of 25 minutes, during eclipse. To determine the battery capacity in mAh, the power consumption of every component is needed. The table above is taken from the power budget and details the overall current consumption in the two modes. We can easily calculate the energy consumption as follows,


Energy (in mWh) = Power Consumption (in mW) x Time (in h) = (4118.526 mW x 0.25 h) + (3962.026 x 0.16 h) = 1690.10 mWh
Now, we need to ensure a depth of discharge (DOD) of 15%. This means that the battery pack should be able to provide the energy calculated above, and still retain a capacity of 85% or more. Assuming 15% to correspond to the energy calculated above, we get the battery capacity to be 11267.341 mWh. Here we have assumed the battery is discharged from a fully charged state.
However, this is not always true. We have also not taken into account the energy consumption of the battery heater, as we cannot estimate the duration of this emergency mode. Taking a further margin of 100%, we obtain a battery capacity of 22534.68 mWh. In the given range of the battery state of charge, its voltage is a near constant, which we expect to be around 8.0V. Therefore, we obtain the battery capacity to be 2816.835 mAh.


3.5.1.3.2 Battery Charging/Discharging


In order to charge the battery optimally, a 2-mode method known as CC-CV is used. It is charged with constant current initially. After the li-ion batteries reach a specific voltage level it is charged with constant voltage (trickle charging) for some time. To ensure this, we need an efficient battery charger. Initially when the 𝑉𝑂𝐶 (open circuit voltage) of the battery is lesser than the rated voltage (4.2V in our case) charging takes place in constant current (CC) mode. The value of current is the rated value for the given C-rate (1625mA here). After the voltage reaches its rated value, the constant voltage (CV) mode starts in which the current falls and the battery reaches its rated capacity with SoC of 100% and 𝑉𝑂𝐶 of 4.2V.
  

Figure: Charge Characteristics of Battery
We are using a battery charger before the batteries so that it can monitor the whole charging process and provide protection against overcurrent and other faults in the system. We chose SPV1040 for our battery charger.


               1.  SPV1040
The SPV1040 is a high efficiency, low power and low voltage DC-DC converter that provided single output voltage up to 5.2 V for an input voltage range from 0.3 V to 5.5 V. SPV1040 has a benefit of inbuilt MPPT which reduces the task of implementing MPPT on the micro-controller thereby reducing complexity within the system. The device employs an input voltage regulation loop, which fixes the battery charging voltage through a resistor divider. The maximum output current is set with a current sense resistor according to charging current requirements. The SPV1040 protects itself and other application devices by stopping the PWM switching if either the maximum current threshold (up to 1.8 A) is reached or the maximum temperature limit (up to 155°C) is exceeded. The operating temperature range for SPV1040 is from -40°C to 125°C. An additional built-in feature of the SPV1040 is the input source reverse polarity protection, which prevents damage in case of reverse connection of the solar panel at the input.
The major drawback of using SPV1040 is that the output voltage cannot be more than 5.2V and as we need to charge two batteries with 𝑉𝑂𝐶 of 4.2V each, we would need 8.4V at the output. Hence, we need to put two SPV1040s in series for getting an output voltage between 7.8-8.4 volts. This will increase the number of IC’s used per solar panel.




 https://lh3.googleusercontent.com/JsTAXIC6ce6VzYCFs3GsNWpH40bzekmy0ZJiWo_g1C6z3nSwPcPCsvbkYPk4sfVx9luxD9o8BJn9G1f5fDDOVYFgkazHMbGuRg-PDLhl893jwhk44DkZT8fWXRY4vJSioGU9E6q0 

                                    Table: Absolute maximum ratings for SPV1040


                                  
                                Table: Output characteristics of SPV1040 https://lh4.googleusercontent.com/UywmDUtDHePPUWi7tR0KC10Bc_JazNSDLpfPWOBuyOJ4K0APuH9zs5mnnIfUXxlm-j7jnJ4-dJG280kJIHckMkAI-tL6fsKlzvxJ3XBqB0-siBlnHnlLhtZYw4i8JXhPO8Es4bVq 
Figure: Battery Charging Circuit of SPV1040
In the figure above, we can set the maximum output voltage with the help of external voltage partitioning resistors 𝑅1 and 𝑅2. 
(𝑅1/𝑅2) = (𝑉𝑜𝑢𝑡,𝑚𝑎𝑥/1.25)−1
Also, we have to select 𝑅1 and 𝑅2 such that minimum current flows through the resistors to minimize power dissipation. Also, for the proper functionality of the VCTRL pin, the current flowing into the series sum of 𝑅1 and 𝑅2 should be between 2 𝜇𝐴 and 20 𝜇𝐴.
We can set the maximum charging current of the battery with the help of the sense resistor 𝑅𝑠1. A voltage drop across Rs is sensed by the ICTRL_MINUS and ICTRL_PLUS pins and is compared with the 50 𝑚𝑉 internal threshold.
 𝑅𝑠1 =(50𝑚𝑉/𝐼𝑜𝑢𝑡,𝑚𝑎𝑥)
3.5.2 Topology
The arrangement chosen for the solar panels depends on the output voltage of the solar cell provided. Converters operate at higher efficiency when the difference between input and output voltage is minimal. Therefore, we aim to maximize the efficiency of both converters while satisfying the voltage, current, and power requirements at all nodes.
Each solar cell has a peak power point voltage of about 2.414V, and since we are using a 1S-4P configuration, the voltage remains at approximately 2.4V, while the current is multiplied by four. The MPPT tracks this input and boosts it to 7.8V to 8.4V. This boosted voltage is then stepped down using two buck converters to provide the main system buses of 3.3V and 5V. Based on the output of the solar cells, this configuration is selected to efficiently achieve the required output buses.
The battery used for testing provides an output of 4.2V when fully charged, and a 1S-4P configuration (four cells in parallel) is adopted. This battery pack supports the main buses when the solar power is insufficient. The selected topology is illustrated in the following block diagram.
 https://lh6.googleusercontent.com/gHA_Wr-zGbVadAP3Y-1KQ-Be8vSTuyOqrIdNsoGGFqJ7FY23VFLMXssz2tEmXbnS015hkR0N_rWNHu89vzwv4Ish9sOnWAiLrASTZWJg5oRif9nCWvdr-Dzqny4EAmWJpoUfEm8V 



Figure: Selected topology for the battery pack and DC buses.


To form four parallel strings of solar cells, cells from different faces are connected such that each string consists of one solar cell. This ensures that all strings experience roughly the same solar flux, especially when the satellite is uniformly illuminated. The configuration results in a 1S-4P arrangement of solar cells.
3.5.3 Power Conditioning
3.5.3.1 Boost Converter
The voltage supplied by solar panels is 4.83V and we need to charge the batteries at a voltage greater than 7.2V. So, we need to boost the input voltage. A boost converter is a DC-DC converter that provides an output voltage greater than the input voltage. In the event that we decide to implement peak power tracking, it would be done on the boost converter.
  

To understand the working of a boost converter, we need to look at its two modes of operation. These modes arise from the fact that the converter uses a MOSFET as a switch.
• When the switch is turned on, current will flow only through the inductor. This will result in an increase in the inductor current. In this mode the inductor stores energy in its magnetic field. The load is sustained by the capacitor which is discharged.
• When the switch is turned off, current will flow through the capacitor, thereby charging it. The energy stored in the inductor is now transferred to the capacitor, to charge it up for the next ‘on’ cycle. Here, due to high frequency, the capacitor is neither fully charged nor is the inductor fully discharged.
When the switch is turned on, the capacitor will discharge through the load and the diode present prevents current backflow.


       3.5.3.2 Buck Converter
The batteries will always remain between 7.8-8.4 volts, for a depth of discharge of 15%. So, the battery supply lines will also have an unregulated voltage of 7.8-8.4 volts. Other components require a power supply of 5 and 3.3V. Therefore, we need a buck converter that will decrease the voltage to provide these two different voltage buses.
Figure: Schematic of a buck converter 
  

To understand the working of a buck converter, we need to look at its two modes of operation. These modes arise from the fact that the converter uses a MOSFET as a switch.
The buck converter chosen to meet our requirements is TPS564242 from Texas Instruments. This buck converter can configure both voltage outputs, one with an output of 5V, and the other with an output of 3.3V. The TPS564242 operates at a switching frequency of 1.2 MHz. It also has D-CAP3 control topology to provide fast transient response.




Figure: Typical TPS564242 configuration.
  

Figure: Values of components for a particular voltage
  





3.5.4 OCPC and Load Switching
Over-current protection circuit is a circuit employed to protect components connected to the power bus from drawing excess current in the event of a fault.
The power switch TPS2556/7 will be used for this purpose. It is a current-limited switch with enable and fault signals. The current limit can be set with an external resistor in the range from 500-5000 mA. The ‘on-resistance’ of the switch is low, typically 22 mΩ. Each module on the satellite has different power requirements, so the current-limit should be tailored to suit the specific module. The enable signal is controlled by the EPS MCU. The fault signal will give the MCU information of an over-current or over-temperature event. To be able to quickly remove an SEL, the TPS2557 is configured in auto-retry mode. When the fault signal is asserted the switch will be disabled. The RC time constant, set by 𝐶𝑟𝑒𝑡𝑟𝑦 and 𝑅𝑟𝑒𝑡𝑟𝑦, will determine the delay before re-enabling the switch. We won’t be using this auto-retry feature as it will be under a continuous cycle if there is some serious issue with the bus. Because of this reason the enable will in in our control directly so that we can turn off as power bus completely in severe cases .Depending on the adjustable current limit, either TPS2553 with a limit between 75mA and 1300mA, or TPS2557 with a limit between 500mA and 5A would be chosen.




  

Figure: External Circuit of TPS2557
 https://lh4.googleusercontent.com/HEjrYMSoP_y4VQUScnmw0-J92MHt1808mDdq1fCsdc_BwzoBQw2kG9fpjaZzqVUnlsUt8lHVzBhidV4V8ZyUwZ_AdedSNeGB5NEXHbOBrKHZKI7TtbAF85ptYA7ERqQD-w4jAcyQ 

Figure: Evaluation Module of TPS2557










































3.5.6 HOUSEKEEPING
One of the key responsibilities of EPS is housekeeping. It involves collecting sensor data from current and temperature sensors (Through I2C and SPI buses) and sending this data to OBC in packetized form where it will determine whether all sensor values are within the threshold values or not.


      3.5.6.1  Current sensor
For determining current values of each power bus, current sensor INA219 is placed on each of the power bus. It also provides voltage and power values while providing current values. It uses I2C communication protocol to communicate with MCU. I2C protocol involves 2 pins, serial data line (SDA) and serial clock line (SCL). 
  

Figure: Schematic for INA219


Shunt resistor used in this is of 0.1 ohms value. IN+ and IN- pins of the IC can take upto 26 V individually and it has a range of approximately from -26V to 26V (differentially).
One of the main features of the INA219 sensor is that the I2C address of the sensor can be changed using A0 and A1 pin, by connecting them to different pins (VCC, GND, SDA and SCL). Using this INA219 can be configured to 16 different I2C addresses. Because of this, upto 16 sensors can communicate with MCU through a single I2C bus.
  

Figure: Slave Addresses for INA219


Most of the microcontrollers have inbuilt pull-up resistors for SDA and SCL bus lines, but it is a good practice to place pull-up resistors when one is making the schematic for this sensor.


3.5.6.2 Temperature sensor
For detecting temperature of multiple areas in CUBESAT, LTC2986 IC is used. LTC2986 can measure temperature using thermocouples, thermistors, diodes and RTDs(2 wire, 3 wire and 4 wire). 
  

Figure: Schematic
LTC2896 also provides the facility of cold junction. With help of cold junction, a reference temperature can be set with the help of thermistors or RTDs. This IC has 10 channels i.e. upto 10 single ended thermocouples or 5 differential thermocouples can be used (2 channels are used for a single thermocouple). LTC2986-1 version also 512 bytes of EEPROM.
LTC2986 uses SPI protocol for communicating with MCU. SPI protocol has 4 lines Master In Slave Out (MISO), Master Out Slave In (MOSI), Serial Clock (SCLK) and Chip Select (CS). Chip Select pin is used for selecting between multiple slaves.
3.5.7 Software Control
3.5.7.1 Software Design
Though the electrical power subsystem mainly relies on its hardware components to perform its functions, a controller is required to schedule and switch between its various tasks and take emergency action if necessary. This control logic is implemented on a microcontroller.
The main tasks of the microcontroller are not very different from the overall functions of the power subsystem. We will see in a later section that the tasks that the microcontroller performs is divided into three distinct tiers. This is done to facilitate the separation of hardware specific tasks from others.
The following is a list of functions the microcontroller performs,
               1. It collects data from the sensors attached to it, a task that will now be referred to as
Housekeeping. This is done at a predetermined frequency.
               2. It implements the Advanced Beacon, which will transmit sensor values at a particular frequency using CC1101 transceiver. It will also work as an alive signal for our CUBESAT
               3. It will be responsible for controlling enable pins for OCPC of each power bus under the instructions of OBC.
As we can see from the above requirements, the microcontroller does not have to perform computationally intensive tasks. However, the tasks that need to be performed are very important, requiring a high degree of reliability. The electrical power subsystem would be turned on all the time, and hence its microcontroller would be operational all the time. This places a further power constraint on the microcontroller.


3.5.8 Choice of MCU


     For our satellite, first we went with MSP430F5529 because of its low power consumption, but due to lack of online documentation and support we decided to scrap this idea. For an alternative, we chose ATMEGA2560 (Arduino Mega). ATMEGA2560 has a large number of pins including 6 external interrupt pins. It has one I2C port and 1 SPI port. It has a clock speed of 16 MHz which can make processing very fast. 




3.5.8.1 Microcontroller Interfacing
The MCU, given its importance, is connected to a number of essential external peripherals.
               1. It controls a dedicated I2C bus, to which a number of components are connected.
               * 6 x INA219 – Current sensor. This sensor provides current, voltage and power value for the bus it is connected to.
               2. SPI interface with the Beaglebone, as an SPI slave. This is a set of 4 lines. Though 3-wire SPI is also an option, the 4-wire version supports a full duplex configuration.
               * MOSI - Master Output Slave Input line.
               * MISO - Master Input Slave Output Line
               * SCLK - Serial Clock line.
               * SS - Slave Select line.
        All sensor readings will be sent to OBC in packetized form and it will check the threshold         values to check whether everything is working properly or not.
               3. SPI interface with LTC2986 which will provide temperature values with help of 5 thermistors connected to this IC.
               4. SPI interface with CC1101 (transceiver) which is used for advanced beaconing.
               5. Hardware interrupts connected with beaglebone. Each hardware interrupt will be associated with a power bus and beaglebone will send an interrupt to turn off that particular bus when there is some issue (overcurrent or very high temperature).


               6. Enable lines for each OCPC and buck which will be used to turn off power buses when OBC sends an interrupt.


7. UART ports are reserved for:
               * Debugging
               * Payload Sensors
8. A hardware watchdog is enabled to reset the MCU in case of software lock-ups, ensuring high system reliability.






3.5.9 Tentative Component List for EPS


Component Category
	Component Description
	Package/Footprint
	Estimated Quantity
	Source
	Power Management ICs
	SPV1040TTR (Solar charger)
	SOP65P640X120-8N
	5
	Included in EPS PCB
	 
	TPS2557DRBR (Current-limited Power Switch)
	SON-8 (3x3)
	5
	Included in EPS PCB
	 
	MAX706RESA (Watchdog)
	SO-8
	1
	Included in EPS PCB
	 
	TPS564242DRLR (Step-down Converter)
	SOT-563
	1
	Included in EPS PCB
	Measurement & Sensors
	INA219 (Current Sensor)
	SOT-23-8
	5
	Included in EPS PCB
	Passive Components
	Capacitors (1nF to 100µF, incl. Tantalum, Ceramic)
	C_0603, C_1206, etc.
	>120
	Included in EPS PCB
	 
	Resistors (1Ω to 1MΩ)
	R_0603, R_01005, R_2512, HandSolder
	>100
	Included in EPS PCB
	 
	Inductors (1µH, 100µH, 6.3x6.3mm)
	SMD
	~10
	Included in EPS PCB
	Discrete Semiconductors
	BSS138DWQ-7 (N-MOSFET)
	SOT-363
	8
	Included in EPS PCB
	 
	MBT2222ADW1T (NPN Transistor Pair)
	SOT-363
	4
	Included in EPS PCB
	Others
	DRV8825 (Stepper Motor Driver)
	Breakout
	6
	Inventory (for system integration and testing)
	 
	CJMCU-75 (Temperature Sensor)
	-
	4
	Inventory (for system integration and testing)
	 
	MCP3008 (ADC)
	DIP
	3
	Inventory (for system integration and testing)
	 
	Super Capacitor (EECS0HD224H)
	SPV1040T:CAP_EECS0_H_PAN
	5
	Included in EPS PCB
	 
	LEDs (GREEN, SMD 0603)
	LED_0603
	5
	Included in EPS PCB
	 
	Switches, Jumper Wires, Misc. tools
	-
	Varies
	Inventory (for system integration and testing)
	



3.6 On Board Computer
The Onboard Computer is responsible for controlling and coordinating the other subsystems, while performing data processing if required. We intend to develop a reliable design for an onboard data handling system of a small satellite. The design aims at equipping a System-on-Chip based onboard computer with multitasking capabilities necessary for a small satellite and ensuring a judicious utilization of the computational and data processing software and hardware resources with reduced time latencies. The Beaglebone Black SoC is used for the OnBoard Computer.


3.6.1                 OBC functions:
               * Acquiring housekeeping data.
               * Storage and downlinking of payload and housekeeping data.
               * Executing attitude determination and control algorithms.
               * Determination of the mode of operation and flow of control.
               * Processing of the Telecommand Data.


3.6.2                Hardware requirements
It is essential for the satellite subsystems to have compact, efficient, and low-power computing platforms capable of handling real-time data processing, peripheral interfacing, and control tasks. One such class of embedded systems fulfilling these requirements is the BeagleBone family of development boards. BeagleBone boards are powered by ARM Cortex-A series processors and provide a rich set of onboard peripherals including GPIO, UART, I2C, SPI, PWM, ADC, and Ethernet. A notable member of this family is the BeagleBone Black, which offers enhanced performance with a 1GHz AM335x Sitara processor from Texas Instruments, along with onboard 4GB eMMC storage and microSD support.
BeagleBone Black is widely adopted in embedded applications due to its low power consumption, ease of use with Linux, and strong community support. Its open-source hardware design and flexible I/O architecture make it ideal for quick development and testing in space-constrained environments. Additionally, it features two Programmable Real-time Units (PRUs)—dedicated microcontrollers integrated within the processor—allowing for real-time task handling. These features collectively make BeagleBone Black a strong candidate for mission-critical embedded systems where cost-efficiency, reliability, and flexibility are key.


3.6.3                Hardware description 

BeagleBone Black Industrial
BeagleBone Black Industrial includes a feature-rich single-core ARM Cortex-A8 based processor. The ARM Cortex-A8 CPUs are the heart of the PS and also includes an on-chip memory, external memory interfaces, and a rich set of peripheral connectivity interfaces.
The following are its main characteristics:


Table 1 :  BeagleBone Black Industrial specifications


FEATURES
	BeagleBone Black Industrial
	No of CPU Cores
	1
	Processor Core 
	ARM Cortex-A8
	Processor Extensions 
	NEON SIMD, VFPv3, Jazelle RCT
	Operational frequency
	1 GHz
	On-chip RAM (OCM)
	64 KB L3 RAM (shared internal memory)
	Level 1 cache
	32 KB Instruction + 32 KB Data
	Level 2 cache
	256 KB
	External Memory Support 
	DDR3
	Onboard Memory
	512 MB DDR3L RAM, 4 GB 8-bit eMMC Flash
	External Storage Options 
	microSD card slot
	Real-Time Units (PRUs)
	2x 32-bit Programmable Real-Time Units


	Operating Temperature Range
	-40°C to +85°C
	Software compatibility
	Debian, Android, Ubuntu, Cloud9 IDE on Node.js with BoneScript library
	Connectivity
	USB client for power and communications, USB host, Ethernet, 2x 46-pin headers
	USB Support
	1x USB 2.0 Host, 1x USB 2.0 Device
	Ethernet
	1x 10/100 Mbps Ethernet (RJ45)
	Peripherals
	1x UART0 (debug), 4x UARTs, 3x I2C, 2x SPI, 2x CAN, 8x PWM, 7x ADC (12-bit)
	ADC
	7 X 12-bits
	Watch-Dog
	Yes (Programmable)
	DMA Channels
	Available via PRU-ICSS and EDMA
	Expansion Options
	Cape-compatible (stackable I/O boards)
	

    

3.6.4                Operating System
Considering the harsh space environment and the limited resources on board, the OBC is required to be efficient and fault-tolerant. In order to achieve this, the OBC will run on a custom OS. 
The following are the properties that are desired from the OS, for our satellite:
               * Efficiency: The OS must ensure that scarce resources, like memory and power, are utilized effectively and with minimum wastage.
               * Fault tolerance: The OS must be functional irrespective of the environmental conditions. This means that the OS must be functional even if it experiences hardware and software faults, while taking measures to bypass them in the future.
               * Fault mitigation:  The OS should not only remain functional after a hardware/software fault, but it must prevent further catastrophic effects.
               * Safety: Any software has the chance of containing bugs, even after rigorous testing. This is especially true in concurrent software, due to the difficulty of performing unit tests on it. If the OS notices that certain software has a bug, it can take certain measures to prevent the consequences of the bug. [Insert NASA reference here]
               * Hardware Support: The OS must support all the hardware that is interfaced with the OBC.
               * Real time requirements: Considering the vulnerable nature of our payload, the satellite must recover from an emergency in real time. In order to prioritize this recovery, the OS must provide greater resources to those routines that help in such recovery.
The default OS for the Beaglebone Black does not provide much of this required functionality. Hence, it is necessary to build a custom OS. The OS for the OBC is built using the Yocto project build system. The important features of the operating system are outlined below.

Secure boot and memory integrity
In the space environment, our satellite is subject to SELs and SEUs. Such events may corrupt the core components of the OS, such as the kernel or the bootloader. This would be fatal to the satellite, as the OBC will be unable to boot in such a scenario. In order to overcome this issue, the OBC implements a secure boot mechanism in which the signature of each stage of the bootloading process is checked by the previous stage. If the signature does not match, a backup copy of the next bootloading process is loaded instead. The corrupted bootloader is replaced with the functional one once the OBC is in a working state. Similarly, core blocks of secondary memory are checked for their integrity by comparing their hashed signatures.

Fault Tolerant Scheduling
The space environment is known to cause hardware and software faults during runtime. These faults could have catastrophic effects if it leads the system to a standstill. In order to continue functioning irrespective of such hardware and software faults, the OBC uses a fault-tolerant scheduling algorithm. Such a mechanism falls well in line with the limited resources onboard, compared to more robust methods such as Triple Modular Redundancy (TMR). At the same time, it ensures that the OBC can successfully function despite faults at a satisfactory level. The extensible scheduler class of the linux kernel is used to implement the scheduling algorithm. This gives us the advantage of turning off the fault-tolerant algorithm during real time tasks, thus reducing processor overhead.

Runtime Verification
Once a fault has occurred, it is also necessary to mitigate it. The OBC uses runtime verification for the same. The state of various modules of the OS are monitored using the rv utility of the linux kernel. In case a fault occurs, or a safety condition is not met, the OS takes necessary action such as restarting the system or that particular module. Thus, we can effectively prevent a fault from cascading into a series of faults and eventually leading to system failure. Runtime verification will also be used to minimize the consequences of bugs in the flight software by monitoring certain conditions that must be followed by the flight software at all times. An example of this is to ensure that in a given time interval, at least one mode is active for some duration within that interval.






3.6.5                Device and Process Management
The Onboard Computer also overlooks the coordination between the devices and subsystems to ensure smooth functioning of the satellite. The process and device control will be undertaken by flight software which will be coded in C/C++ and will be run on a Linux system which will be running on the Processing System. We have chosen a Linux system over an RTOS system because there is more extensive documentation for using a BeagleBone Black based Linux system and also because it suits our scheduling needs. 


Our flight software is structured according to an actor model. An Actor is an entity that interacts with other actors purely through asynchronous events (like signals). In our program, an actor is materialized through a process that is forked from an initial process.


3.6.5.1        Types of Actors
The three types of actors in our system are the GOD (Parent), Aengel (States) and Daemon (Readers). 
GOD
This process controls all the other processes. Communication between other processes is strictly through signals. The Daemon actors signal the parent process a change in the input mask, along with the modifications to be done to the input mask. The parent process then updates the input mask and uses it to decide the next state (based on a state table).

Daemon
A daemon actor is a process that remains active throughout the entire duration of the flight plan. It is typically responsible for monitoring critical inputs that significantly influence the flight plan, such as state-switching signals, overcurrent readings etc. The reader sends signals to the parent whenever there is a change in the input (based on certain thresholds). 


Aengel
An aengel actor represents a mode in the flight plan. A mode represents the set of instructions that the satellite must perform under certain conditions.


The major advantage of using our flight software based on the actor model is that it allows for formal verification of the entire program using model checking tools and formal verification languages like Rebeca. This enables us to rigorously check for correctness properties such as deadlock freedom, safety, and liveness. Additionally, it improves modularity and fault isolation—each actor can be tested and verified independently, reducing the complexity of the verification process. This approach enhances the reliability and robustness of our flight software, which is critical for mission success in aerospace systems.
The OBC maintains regularly updated status of different devices interfaced to it. The flight plan software has different modes which further have processes within them that are initiated in each of these modes. On the basis of data obtained from the regular polling of various components in the satellite, decisions are made regarding entering and exiting these modes. In addition to these predetermined processes there also exist certain instances where various components can interrupt the flight plan in the form of critical messages which then forces the system to move into one of the emergency modes. All the modes have a predefined priority, so that if the polling presents conditions suitable to move into multiple modes simultaneously, then the choice can be made. The OBC ensures that a busy device is not disrupted, unless the polling results in a mode request which has a priority greater than the one the device is currently catering to. Further, all the system critical interrupts (for example: power surge interrupt, critical temperature interrupt) will override all the priorities and will be catered to first.


3.6.5.2        Flight Plan Modes
Our flight plan is tentatively divided into the following modes:
Normal modes:
               1. OBC startup after launch
               2. Normal without telemetry/uplink and without payload operations
               3. Normal without telemetry/uplink and with payload operations
               4. Normal with telemetry and without payload operations
               5. Normal with uplink and without payload operations
Emergency modes:
               1. Watchdog reset (OBC failing to respond to EPS’s watch-dog timer) - EPS cuts the power to OBC, waits for a certain period before turning it on.
               2. Low Power - 
               1. OBC shuts down a subsystem with lowest priority.
               2. OBC asks EPS for updated power usage.
               3. Steps ‘a’ and ‘b’ are repeated until the system is in safe mode.
               4. The beacon will be sent less frequently and the housekeeping will be collected less frequently too. 
               3. Component or Subsystem failure - OBC tries to fix the failure by restarting the component.
               4. Angular velocity overshoot - Switch into detumble mode. OBC runs the B-dot algorithm (high frequency) and directs actuators to stabilize the satellite. 
               5. Heating mode (Spike in the temperature of a subsystem) - The responsible subsystem will be shut down till the temperature returns to normal. 
               6. Power surge - If a component is using higher power than required, the EPS will switch it off using an OCPC and will send an interrupt to the processor, which will then decide to either switch it on or keep it switched off.


Table 2 Satellite Modes and associated processes


Sr. No.
	Mode
	Devices 
	Processes
	1.
	OBC startup after launch
	OBC:
               * BeagleBone Black


ADCS:
               * Magnetorquers
               * IMU


COMM:(Only Beacon)
               * Power Amplifier 
               * OOK modulator
               * Antenna


EPS:
               * EPS MCU
	               * EPS turns on the OBC and starts transmitting ‘Simple Beacon’


               * After boot up, OBC implements B-Dot algorithm (high frequency) and starts detumbling 


               * OBC turns off the Simple Beacon and starts transmitting Advanced Beacon (which includes minimal HK data)


               * Reset watchdog timer depending upon deadline settings. 
	2.
	Normal without telemetry and without payload operations
	

	

	  a)
	Idle Mode
(Normal without downlink/uplink and without Payload Operation)
	OBC:
               * BeagleBone Black


ADCS:
               * IMU
               * Magnetorquers 
               * GPS


COMM:(Only Beacon)
               * Power Amplifier
               * OOK modulator
               * Antenna


EPS:
               * EPS MCU
	               * OBC implements B-Dot, detumbles, collects housekeeping data and transmits ‘Advanced Beacon’


               * Reset watchdog timer depending upon deadline settings




	b)
	Data retrieval from payload’s sensors
	OBC:
               * BeagleBone Black 
               * Flash Memory
  
ADCS:
               * IMU
               * Magnetorquers
               * GPS


COMM:(Only Beacon)
               * Power Amplifier
               * OOK modulator
               * Antenna


EPS:
               * EPS MCU


Payload:
               * Photo Diode
               * Dosimeter
               * Temperature sensors
	               * OBC implements B-Dot, detumbles, collects housekeeping data and transmits ‘Advanced Beacon’


               * OBC checks if power level is sufficient


               * Data is collected from the payload’s sensors and stored in BeagleBone’s flash memory


               * Reset watchdog timer depending upon deadline settings


	3.
	Normal with telemetry and without payload operations
	OBC:
               * BeagleBone Black


ADCS:
               * IMU
               * Magnetorquers
               * GPS


COMM:
               * Transceiver
               * Antenna


EPS:
               * EPS MCU
	               * OBC collects Housekeeping Data


               * OBC implements ground station tracking algorithm and uses actuators accordingly


               * OBC keeps check the values from the GPS


               * OBC sends downlink command to EPS MCU along with the payload data via SPI.


               * Reset watchdog timer depending upon deadline settings
	4.
	Normal with uplink and without payload operations
	OBC:
               * BeagleBone Black


ADCS:
               * IMU
               * Magnetorquers
               * GPS


COMM:
               * Transceiver
               * Antenna


EPS:
               * EPS MCU
	               * OBC collects Housekeeping Data


               * OBC implements Ground station tracking algorithm and uses actuators accordingly


               * EPS send uplink command to COM system and waits for the received data


               * EPS then sends the received data to OBC via SPI


               * OBC evaluates the received data/command and acts accordingly


               * Reset watchdog timer depending upon deadline settings
	* ‘Simple Beacon’ will be on before OBC is booted and then turned off.
* ‘Advanced Beacon’ will be ON except the interval when satellite is connected to Ground      Station.
* ‘Advanced Beacon + Telemetry’ will be sent when OBC sends a command to EPS MCU via SPI based on GPS values


3.6.6                Sensor Interfacing
A satellite in which all subsystems have their own processors is called a distributed architecture, and one in which all the processing is done by running the processes on the central OBC processor is called a centralized architecture. We have chosen to use an architecture which is somewhere between these two.  Following are the major systems, including their components which will be interfaced with the OBC:


3.6.6.1        Electrical Power System
The Electrical Power System (EPS) has its own processor (ATmega2560) and will communicate with the OBC using SPI interface. It will perform the following tasks:
               * Collects data from temperature and voltage sensors on solar panels and batteries
               * Sends the simple beacon (before OBC start-up)
               * Communicates the subsystems’ functional status as well as housekeeping data (voltage and current across all buses) collected by the EPS to the OBC
               * Tracks the battery temperature and turns on the battery heater in case it goes below a  certain threshold
               * Tracks and regulates the battery status and charging
               * The EPS has two modes of beaconing: one with only housekeeping data and one with both housekeeping and payload data. Beaconing is always in the “only housekeeping” mode of beaconing. When the OBC detects the satellite to be in the GPS range of the ground station, it instructs the EPS via SPI to switch the beaconing mode to “housekeeping and payload”. 


3.6.6.2        Attitude Determination and Control System
The various components of the Attitude Determination and Control System, including actuators and sensors, will be directly interfaced to the various ports of the Processor System of the main board. The control algorithm will be run on the OBC, whose outputs will be used to actuate the satellite using the actuators. 
The component which will be interfaced with the OBC will include:
               * 3 Magnetorquers 
               * Inertial Measurement Unit (Gyroscope & Accelerometers) - BNO 085 (I2C Interfaced)  
               * GPS


3.6.6.3        Telemetry and Ground Station Subsystem
The Communication subsystem will receive and send data to the ground station and its components will be interfaced with the various ports on the Processor System of the OBC. The three layers of AX.25 communication protocol will also run on the operating system of the Processor System, which will be used during the communication. The components which will be interfaced with the OBC include:
               * Beacon - CC1101 (SPI Interface)
               * Transceiver for Data Transmission - RFM95W-868S2 (SPI interfaced)
               * Power amplifier for Beacon - ADL5545 (Not to be interfaced with the OBC)
               * Antenna for both Beacon and Data Transmission - deployable UHF antennas 
The OBC will be running the RS encoding algorithm for payload and sensor data and sending this data to the EPS microprocessor.


3.6.6.4        Thermal System
The Thermal System will carefully monitor the temperature of the satellite and suggest active and passive methods of countering temperatures higher and lower than pre-decided thresholds. Since the EPS has its own processor it takes the battery temperature readings on its own and takes the appropriate action to heat or cool the battery to meet its temperature requirements. This is the only device for which active temperature control is undertaken. There will also be temperature sensors on the solar panels which will be interfaced to the EPS processor. There are temperature sensors placed on all the three boards to monitor temperatures and also on the hyperspectral camera, the reading from these will be taken at regular intervals. This data, if critical, will be acted upon by switching off the devices, else it will be logged and downlinked at a later time.


3.6.6.5        Payload
The mission uses a biological payload to study the growth and antibiotic resistance of a Cutibacterium acnes culture using the following sensors:
               * RadSense2 dosimeter to detect general radiation
               * TMP117 High-Precision Temperature Sensor
               * Optical Density Measurement(600 nm LED paired with an S1336 photodiode)
               * Fluorescence Measurement(488 nm LED paired with a second S1336 photodiode)


3.6.7                Monitoring and Status checking
The OnBoard Computer is responsible for the overall health monitoring of the satellite’s subsystems, logging of critical housekeeping data for later downlink and controlling the devices interfaced to it including turning them on/off as and when required. Our OBC undertakes housekeeping in the following manner:


3.6.7.1        How housekeeping data is obtained from various subsystems:
               * The OBC is interfaced to the EPS’s microcontroller via the SPI protocol. Sensor values—such as those from current and temperature sensors interfaced with the EPS—are transmitted to the OBC.
               * For certain subsystems like the ADCS whose components are directly interfaced to the OBC, the OBC will take the data from the concerned components itself over the above mentioned interfaces. The same is true for the temperature sensors on the various subsystem boards and the payload.
               * A logging task will be activated after obtaining this data which will be responsible for timestamping and storing the HK data in memory. 
               * If OBC is unable to read values for a subsystem, OBC issues a request to the EPS to restart the particular board/subsystem. All events leading to a restart and all the following debugging related events are also carefully logged for later downlink.


3.6.7.2        How housekeeping data is used:
               * This data will have a pre-decided format and will be analyzed by the OBC.
               * The satellite will be directed into one of the above mentioned modes on the basis of this analysis.
               * If any of the obtained readings is critical then it moves to an emergency mode, if not it moves to one of the normal modes.
               * OBC will constantly keep a check on the values received from EPS. If any of the values crosses a specified threshold, then it sends a hardware interrupt to EPS through GPIO pins to stop the concerned subsystem.


3.6.7.3        Data collected from different subsystems and sensors:
EPS:
               * System bus voltage.
               * Battery temperature and voltage.
               * Current supply to different subsystems/boards.
               * Solar panel current and temperature.
               * Converter Current
ADCS:
               * GPS to determine the position of the satellite.
               * Angular velocity vector from the Inertial Measurement Unit for running the control algorithm and checking detumbling condition.
TTC: 
               * Temperature from the board on which the communication devices are placed.
               * Deployment status, temperature of antenna.
Payload:
               * Temperature obtained by the temperature sensor on the payload, Dosimeter, photodiodes.


3.6.8                Interaction with other subsystems
So far we have discussed the information which the OBC will be collecting from these various systems on a regular basis, however there will be more interaction between the OBC and other subsystems, in which some commands and information will be relayed to the subsystems and demanded of the subsystem. The interaction between the various subsystems is elaborated in the following subsections.
3.6.8.1        Electrical Power System


Boot Sequence:
The OBC and the EPS are very intricately linked. As soon as the satellite is released into orbit, a kill switch is released and the EPS comes to life. The EPS then has the task of switching on the OBC. In the time lag between the EPS switching on and the OBC getting switched on, the EPS sends a beacon using the communication subsystem, just to tell the ground station that it is “alive”. This beacon also contains essential housekeeping data. This data consists of temperature and current values of various subsystems in the cubesat. This data is obtained from the EPS. Once the OBC has been switched on, it will take on the responsibility of sending the payload data to the EPS whenever the satellite is near the ground station. The EPS then downlinks this data through the beacon.
The booting of the OBC and watchdog timer implemented on the EPS follow a format similar to the one followed by AAUSAT. [26] [27] The Beaglebone Black boots using the following procedure, as mentioned in the technical reference manual [20] [21]:
               * An internal BootROM stores the stage-0 boot code, which configures the ARM® processors and the necessary peripherals to start fetching the Secondary Program Loader (SPL) code from one of the boot devices, which are specified below. The BootROM is not writable.
               * The SPL code is typically stored in one of the flash memories when in orbit. Backup copies of the code exist in other secondary storage devices. BootROM code copies the SPL code from the chosen flash memory to on-chip SRAM. 
               * The SPL further initializes the DRAM controller and then loads the Tertiary Program Loader (TPL) onto the DRAM. Backup copies of the TPL are also stored on multiple secondary storage devices.
               * The TPL finally loads the kernel into the DRAM, after which the OBC is in an operational stage.
The SPL, TPL and kernel can typically only be loaded from one of the following four devices:
               * SD Card
               * NAND Flash
               * Parallel NOR Flash
               * Serial NOR (Quad-SPI)
The SPL and TPL are built using the “Das U-Boot” software. This enables us to change the booting sequence such that at any stage, if the next stage is corrupted, the current stage can load a backup copy of the next stage instead. Once the OBC is functional, it will check for the integrity of the SPL, TPL and kernel. If it finds any of them faulty, it will replace them with the uncorrupted backup of the same program loader. Integrity checking is done using cyclic redundancy checks (CRC).
Once the boot has been successfully achieved, for the rest of the time, the watchdog timer continues to work on the EPS, sending periodic signals to the OBC, expecting a response in turn. If a response is received it is reset, if not, then the OBC is rebooted.    


Other Communications with EPS:
Further, the OBC takes temperature and current supply values of the various subsystems from the EPS. Upon analysing this housekeeping data, the OBC will decide if a particular subsystem should be shut off in case the values exceed the acceptable limits. OBC in such cases will send a command to the EPS to switch on or switch off the necessary subsystem.
In addition to the above, during low power situations, the EPS will send a command to the OBC in the form of a hard interrupt. Subsequently, all important data will be stored in the flash drive. The OBC will then have the following priority table for shutting down the various subsystems, which will be done by the EPS:
               * Payload.
               * Control Sensors and Magnetorquer.
               * Communication.
               * OBC Circuit.
               * Beacon Circuit.
 
3.6.8.2        Communication and Ground station
There will be two transceivers. One of them would be interfaced with the microcontroller of the EPS for all the downlinking functions. The other transceiver will be interfaced with the microcontroller of the OBC for receiving the uplinked command. There will be three layers of packetization. There are three different ways in which the satellite communicates with the ground station:
               * Beacon: It is a low power signal transmitted by the satellite carrying minimal information about the system. Our system has two beacon modes.
               * Simple Beacon: It is transmitted before the OBC is booted by the EPS. This will be transmitted after the satellite gets ejected from the P-POD. The OBC commands the EPS to turn off the simple beacon once it’s booted.
               * Advanced Beacon: It contains minimal/critical housekeeping data and other satellite specific information. This will be transmitted after detumbling of the satellite is done in orbit. This will be the mode of beaconing by default after detumbling.
               * Data Transmission: Upon confirming our position above Pilani using GPS, we will transition to a dedicated transmission mode for relaying payload data to the ground station. In this mode, the transmitted packet will include the beacon and housekeeping data in a packetized format, with the payload data appended to it, resulting in an increased overall packet size.


Command interpretation
The OBC centrally manages all subsystem operations, including telemetry. While the uplink transceiver continuously listens for incoming signals, it is directly interfaced with the OBC microprocessor. Upon receiving a valid handshake or uplink packet from the ground station, the transceiver raises an interrupt to the OBC. The OBC then processes this signal and triggers the appropriate TTC process in the flight plan to transition from IDLE to HANDSHAKE mode. This initiates the downlink sequence, where the telemetry MCU, already having pre-structured AX.25 packets in shared memory, begins data transmission. The OBC remains in control of timing and mode coordination. If retransmission requests or TLE updates are received, they are routed through the transceiver to the OBC, which interprets them and issues further instructions to the TTC process. Thus, while the telemetry MCU handles packetization and data flow, all command interpretation and mode control are directed by the OBC in response to transceiver interrupts.




3.6.8.3        Attitude Determination and Control System
To keep the satellite stable it is necessary to keep the satellite’s attitude in check and perform required maneuvers to correct the same. The On-Board Computer is responsible for collecting data from various aforementioned ADCS sensors, using them to determine the attitude and implement the required control algorithms to determine the required actuator action to obtain the required attitude. 
The OBC does the following tasks in conjunction with the ADCS:
               * Post deployment detumbling mode :
               * The first task that the OBC undertakes is the implementation of high-frequency B-dot. 
               * In this mode the data is collected at very high frequencies from the IMU/Magnetometers and appropriate action is taken to detumble the satellite until its angular velocity reaches within a certain pre-defined limit. 
               * This limit is defined on the basis of the fact that under normal conditions we want the satellite to be in Thompson spin.  
               * In a normal mode, the OBC will communicate in the following way with the ADCS :
               * It will collect the following data in the form of housekeeping :
               * Magnetometer readings will give data for the local magnetic field.
               * IMU readings are obtained which include the angular velocity.
               * The TLE data obtained in the last uplink will be used to determine the orbital location of the satellite using Simplified General Perturbation (SGP) models, which will be running on the OBC software.
               * The measured angular velocity is compared with the threshold angular velocity and if the measured value exceeds the threshold by a certain predefined margin the actuators are fired else it stays idle. The actuators supply a torque based on the magnetometer reading. Here the actuators used are only the magnetorquers.
               * Notice here that B-dot is run at the same frequency as that at which housekeeping is collected. This is low-frequency B-dot.
               * Emergency Detumbling: If the angular velocities measured during the housekeeping indicate that the satellite is tumbling, the system enters emergency detumbling mode, wherein, once again the angular velocity is collected more frequently and B-Dot is implemented more frequently, as in the first case. 


Attitude Control Algorithm
Bdot Controller:
We decided to use the Bdot controller as our detumbling algorithm as it is simple, robust and reliable. It uses only magnetic field measurements and magnetic actuation to detumble the satellite when it is launched from the P-Pod into the orbit.
According to this, the magnetic moment produced will be proportional to the rate of change of the magnetic field.

Where k is the Bdot controller gain which is calculated through simulations and needs to be determined for the satellite. As an initial estimate, K was found to be (6000, 6000, 6000) as per iterative simulations done by AAUSAT 3.
Concept:
A magnetometer on board the satellite measures the magnetic field vector in the body frame of the satellite. This magnetic field vector changes primarily due to two reasons - variations in magnetic field strength of the earth and tumbling of satellite. However the magnetic field changes caused by tumbling of the satellite is much more dominant, because the tumbling rate of the satellite can be much larger than the orbital rate. This change in magnetic field due to tumbling of the satellite is called Bdot. However, there is some noise in this measurement which may lead to wrong actuation. Thus, to reduce this noise a low-pass filter, given in Eq. (1), is applied to the Bdot.
                                            (1)                    
where   is the filtered value, at sample k, of the measured value Bk , and a1 and b1 are the filter coefficients, which depend upon the cut off and sampling frequencies.
a1= x
b1=1-a1
These filtered values of magnetic field are then used to calculate Bdot using Eq. (2),  

The B-dot controller outputs a desired magnetic moment to be produced by the magnetorquers using Eq.3.This magnetic moment is converted to a corresponding PWM signal for the magnetorquer drivers.

Finally Torque can be can be calculated using Eq. (4),    

As per AAUSAT 3 simulations the satellite was detumbled from 10 to below ±0.3 [deg/s] in the three SBRF axes within the specified time of three orbits. Simulations for determining the time required to detumble the satellite are yet to be performed.




3.7 Telemetry, Tracking and Command Subsystem
3.7.1                        Subsystem Objectives
The communication subsystem establishes the connection between the satel- lite and the ground station, and is the only means of knowing the status of the satellite and communicating with it. The communication system per- forms three primary functions:
               1. Transmission of a tracking signal, also called beacon.
               2. Transmission of payload data and housekeeping data.
               3. Reception of data/commands from the ground station.
In line with the above primary functions, the broad objectives of the Teleme- try and Ground Station system are specified:
               1. Beacon circuit design for continuously relaying critical housekeeping data.
               2. Design of a reliable and robust telemetry downlink for transmitting payload data (which uses the UHF band, particularly 435 − 438 MHz range).
               3. Uplink circuit for receiving data/commands from ground station (which uses the VHF band, particularly 144 − 146 MHz range).
               4. Construction of a ground station at BITS Pilani to receive and process data.
3.7.2        Subsystem Requirements
Being a power hungry system, the communication subsystem presents a major limiting factor for nano-satellites. Design of the communication sys- tem is thus constrained by limited power generation capability. For all educational satellites, it is recommended to operate at unlicensed ama- teur radio frequencies, in antenna frequency bands called HAM bands [1]. These include the Very High Frequency (UHF 30 MHz − 300 MHz) and Ultra High Frequency (VHF 300 MHz − 3 GHz) bands, and particular sub- bands within them. These bands do not require a formal application to the International Telecommunications Union (ITU), which regulates fre- quency band allocation [3].However, for amateur frequency use, this re- quires proof of frequency coordination by the International Amateur Ra- dio Union (IARU). This section details provisions and constraints of other sub-systems that bear consequence on the conceptualization, design and functionality of the communication system.


3.7.2.1        Structural and Thermal
               * The communication board should be placed away from the magneto- torquers to reduce RF interference.
               * The antennas are wrapped and packed inside the nano-satellite until 45 minutes after on-orbit deployment The doors are wound with ny- lon wire wrapped around nichrome and are opened using nichrome burn wire release mechanism [2].


3.7.2.2        Electrical Power Subsystem (EPS)
               * Power consumption of all on-board components is specified in table
1.Section 2 provides further detail of the on-board communication architecture.
               * For the antenna deployment circuit, a one-time power requirement of about 6.4 Watts for short bursts of 6 seconds is required.


Table 1: Power consumption for on-board communication components


Component
	Nominal Power
Consumption (mW)
	Standby Power
Consumption (µW)
	

CC1101 Transceiver (Tx)
	96.36
	0.66
	

	

	

	PE4259- RF switch
	0.066
	—
	ADL5545 High Power Amplifier
	463
	—
	

	

	

	ATMega2560
	600
	

	RFM95W-868S2 (Rx)
	40
	—
	

	

	

	



3.7.2.3        On-Board Computer (OBC)
               * Housekeeping data along with the payload data needed for the advanced beacon is collected by the OBC and sent for encoding, modulation and subsequent trans- mission.
               * OBC exercises control over the various modes of operation of the nano-satellite.


3.7.3        On Board Communication Architecture
System Design
Analog and digital data related to housekeeping as well as payload, gen- erated by sensors is processed by the on-board computing subsystem is stored in a shared memory to be retrieved later by the microcontroller of the communication subsystem. On receiving the command from the OBC to start transmitting data, the microcontroller fetches the data and hands it over to the transceiver for transmission along the dictated path. The exact details of the interfacing of EPS and TTC is under progress.




Power consumption: Nanosatellites have strict power constraints. The telemetry subsystem being one of the power hungry subsystems, it is essen- tial that the system parameters are chosen in such a manner as to reduce the
power consumption while not compromising much on the data transmis- sion/reception fidelity. Keeping this in mind, we consider an upper limit of power < 2 W for the two communication systems on board – beacon and the one for payload data transmission, during data transmission mode.


Modulation Scheme:  The modulation scheme depends on factors like:


               * Bit error probability
               * Intersymbol interference
               * Transmission power
               * Bandwidth
               * Circuit complexity
For CubeSat communication, generally FSK or PSK (and their special cases) modulation techniques are used. While PSK is more bandwidth efficient (can transmit more number of bits in a given bandwidth) when compared to FSK, it does so at the expense of power efficiency. Also, FSK has bet- ter noise rejection for the same data rate and has a simpler implementation than   MSK . Hence we will be using  some form of FSK.


2-FSK is  chosen  for its robustness in noisy channels,  resilience to Doppler shift and low power consumption


AX.25 Protocol: The AX.25 protocol, based on the X.25 protocol, is de- signed for radio amateur usage. The protocol is designed to accept and deliver data over a variety of types of communication links, for a reliable transmission. The protocol uses a CRC-l6 error check of each data packet and frame check sequences to guard against receiving data frames out of or- der when multiple packets are received. AX.25 is a highly structured, pos- itive acknowledgment protocol using advanced algorithms to insure that data exchanged between two modems is correct. Due to the large amateur ham radio user community, it is well documented. The fields within AX.25 frames are specified in figure 4.
The highly structured format of AX.25 also presents the primary difficulty
  





Figure 3: U and S frame construction


  





Figure 4: I frame construction


of implementing the protocol for most applications. The payload and data will be sent using the above format.


On-Board Components
Microcontroller Unit
Requirement and Study The primary requirement for the telemetry MCU was low power consumption. In the initial stages, the MSP430F5529 was considered but was found to have a high complexity for interfacing which interfered with our time constraints. After sufficient research and discussions, the ATMega2560 was chosen due to its optimal power consumption and computational power


Component Chosen:  ATMega2560


Specifications: 


Transceiver
Requirements: The mission objective of downlinking payload data along with the beacon requires an efficient modulation scheme, high data rate and mini-mum error to ensure a high throughput. Also this must be done with the limited power available on a cubesat. So the transceiver must be able to accommodate all these functionalities and be operational in the VHF/UHF bands.


Study:  Initially we planned to use the transceiver AX100. The transceiver IC had integrated power amplifier as well as RF switching and was hence best suited for our application. However, due to budget constraints on a student satellite we decided not to use it. Our next decision was to use Texas Instruments’ CC1101 as it has a rich component heritage, is used in many nanosatellite missions and offers compatibility in interfacing with the microcontroller, also from Texas Instruments. It’s a very low power transceiver and gives a considerable gain of 10 dB. Unlike the AX100, the CC1101 requires external high power amplfier and RF switch. All its other specifications were in line with our mission parameters except the fact that it doesn’t operate in the 144-148 MHz VHF range, which we had decided upon for uplink. It was therefore decided to use CC1101 for only Tx in UHF and find another transceiver for Rx in VHF. A search led to  RFM95/96/97/98, a transceiver IC manufactured by HopeRF, which operates in the VHF range. It was found suitable for our uplink mission and hence finalised as the Rx transceiver. 


Component Chosen:
               1. CC1101 (Texas Instruments) for Transmission in UHF


Specifications : CC1101 is a low-cost sub-1 GHz transceiver designed for very low-power wireless applications in the the ISM (Industrial, Scientific and Medical) and SRD (Short Range Device) frequency bands at 315, 433, 868, and 915 MHz, but can easily be programmed for operation at other frequencies in the 300-348 MHz, 387-464 MHz and 779-928 MHz bands [6]. The RF transceiver is integrated with a highly configurable baseband mo- dem which supports various modulation formats like 2-FSK, 4-FSK, GFSK, MSK as well as OOK and flexible ASK shaping. It has a configurable data rate up to 600 kbps. Optimum setting of registers can be calculated using SmartRF Studio.


  

Figure 5: Simplified block diagram of CC1101




Figure 5 shows a functional block diagram of the transceiver [6]. Some im- portant features of cc1101 that suit our mission are:


               * Efficient SPI interface; All registers can be programmed with one “burst” transfer.
               * Programmable output power up to +12 dBm for all supported fre- quencies.
               * High sensitivity, -116 dBm at 0.6 kBaud, 433 MHz, 1% packet error rate.
               * Automatic Frequency Compensation (AFC) can be used to align the frequency synthesizer to the received signal centre frequency.
               * Can be used in conjunction with IC TPS62730 (step down converter, also manufactured by Texas Instruments) to reduce power consump- tion.
               * Operational Temperature range = −40◦C to +85◦C.
               * Storage Temperature range = −50◦C to +150◦C
               2. RFM95/96/97/98 (HopeRF) for Reception in VHF


RFM95/96/97/98 is a high performance, low power, narrow-band transceiver. The salient specifications are mentioned below. A functional block diagram of the transceiver is presented in figure 6.






  





Power Amplifier
               1.  ADL5545: 
This HPA provides a gain of 24.1dBm at 868MHz while supporting an input power up to 18dbm. It operates at 5V and consumes a power of 350mW in the normal mode. It's high input & output gain along with low power consumption compared to alternatives makes it ideal for our use case. We will use this HPA for both the downlink, as well as the beacon.is provided by THS9001 as well in the desired frequency range of opera- tion. Also, THS9001 is a cascadeable amplifier. In terms of cost, accessibil- ity and relatively simpler printed circuit specifications, it was decided that THS9001 would be preferable over RF5110G.




RF Switch
Requirements: To switch between beacon downlink and payload data downlink, an RF switch is required.On ground station, transceiver Ken- wood TS-2000 has internal RF switching capability. Hence, an external RF switch is required only for the on-board circuit. An RF switch design should achieve a low insertion loss, high isolation, and high linearity. Cost and space heritage are the other parameters considered.


Study: PE4259, manufactured by Maxim Integrated, has been chosen for switching between onboard transceiver CC1101 and OOK modulator MAX1472. This RF switch is space-proven in SwissCube nano-satellite.


Component Chosen:        PE4259 (Peregrine Semiconductor)


Specifications:  The PE4259 UltraCMOS RF switch is designed to cover a broad range of applications from 10 MHz through 3000 MHz. This re- flective switch integrates on-board CMOS control logic with a low volt- age CMOS-compatible control interface, and can be controlled using either single-pin or complementary control inputs. Using a nominal +3V power supply voltage, a typical input 1dB compression point of +33.5 dBm can be achieved. Table 5 lists down the specifications of the chosen component.


Micro-controller to Transceiver Interfacing
For interfacing CC1101 to MSP430F5529 we decided to use an SPI bus with ATMega2560 as the master and CC1101 as slave. The SPI transfer will be responsible for writing the optimum register settings for the RF link into CC1101


Table 5: PE4259 Specifications (Source: [9])


Parameter
	Condition
	Minimum
	Typical        Maximum
	Operating frequency Insertion Loss
	

1000 MHz
	10 MHz
	3000 MHz
0.35 dB        0.45 dB
	Isolation
	1000 MHz
	29 dB
	30 dB
	Return loss
	1000 MHz
	21 dB
	22 dB
	

‘ON’ switching,time        50% CTRL to 0.1 dB
of final value, 1 GHz
‘OFF’ switching time        50% CTRL to 25 dB
isolation, 1 GHz  
________________
1.5 µs 1.5µs


through a single burst transfer. These settings are already calculated be- forehand with the help of SmartRF studio and then uploaded in the code on the MSP.


CC1101 Registers and SmartRF Studio
The following points are relevant when interfacing CC1101 [6]:


               1. There are 49 8-bit registers.
               2. All registers can be programmed with one “burst” transfer.
               3. After chip reset, all the registers have default values initially. The optimum register setting might differ from the default value. After a reset, all registers that shall be different from the default value there- fore need to be programmed through the SPI interface.


Further work on the CC1101 will be updated as EPS-TTC interfacing progresses




On-Board Antennas
The following points were kept in mind while deciding the on-board an- tenna types and configuration:


               1. Since a beacon antenna has to be continuously working, it is not feasible to use a directional antenna for the beacon, as in that case continuous pointing has to be maintained and the power budgets on nano-satellites generally do not permit that.
               2. The advantage of using a turnstile antenna is that it gives a circularly polarized signal and hence it is not required to orient the satellite, along its longer axis as there is no problem of polarization mismatch loss. This however comes at the cost of increased power requirement in compar- ison to a simple dipole.
               3. Turnstile antenna usage also provides redundancy in the system, as one of the dipoles may also be used for reliable communication in an exi- gency mode.


               4. A monopole is simple to construct. The radiation pattern for a monopole is not very directive, but if enough RF power is available from the ground station, then a monopole working in uplink is an effective choice.
Based on these considerations, a crossed dipole or turnstile antenna was finalized as the on-board antenna. The turnstile shall downlink both telemetry as well as housekeeping data to the earth station as well as function as the uplink receiver. 
Table 6: On-board antenna configuration
  

Antenna Configuration Antenna Type        Operating Frequency






  

Uplink
	Turnstile
	868 MHz 
	Downlink
	Turnstile
	433 MHz 
	Initially, a deployable VHF/UHF antenna by ISIS was chosen as the downlink antenna for the nano-satellite. It was a crossed dipole antenna which could be configured as either a turnstile antenna or two dipoles or a dipole and a monopole. The antenna specifications included a frequency range of 130 - 150 MHz and a nominal power consumption of 20 mW at 3V. We had planned to work the beacon in VHF using a monopole and had planned to use a UHF dipole for data downlinking. Due to the high cost (around INR 3.5 lakhs) [11], we decided to go ahead with building the on- board antenna in-house. In order to introduce redundancy in the antenna configuration, provision can be made to switch between using two dipoles and turnstile antenna giving redundancy in the system. In order to design the antennas in-house, simulations were initiated using the electromagnetic modelling and simulation software High Field Structural Simulator (HFSS) from Ansys. A broad outline of the simulation procedure is given in figure 18.




  

Figure 18: Antenna modelling and simulations in HFSS


Turnstile Antenna
A crossed dipole turnstile antenna consists of two coplanar resonant dipoles placed at right angles to each other and fed with voltages of equal ampli- tudes and having a 90◦ progressive phase shift to produce circular polariza- tion [13]. Figure 19 shows the quadrature feeding mechanism for a turnstile antenna.
The crossed dipole turnstile offers several advantages as an antenna for a Low Earth Orbit satellite [12], [13]:
               * It be used as a transmitting or a receiving antenna in UHF band to provide pure circular polarization, which is why it is not required to orient the satellite along its longer axis. In other words, there is no problem of polarization mismatch loss.
               * We can switch between using two dipoles and/or a turnstile antenna thus redundancy in the system.
               * Circular polarization gives better link margin and hence we can achieve higher data rate.
               * The turnstile is simple and inexpensive to construct.
The turnstile was modelled and simulated both with and without the Cube- Sat frame. The ideal turnstile model is modelled using cylindrical elements of material ‘PEC’ (Perfect Electric Conductor) available in the HFSS library and a vertical shift between the two dipoles is introduced to enable appro- priate quadrature feeding. Figure 19 provides a labelled diagram of the feed point of the antenna.








The nano-satellite frame is introduced with the antenna on the top face (figure 23). The frame, as specified earlier, is composed of cuboids of material ’Perfect Electric Conductor’. The intro- duction of the frame immediately deteriorates impedance matching (figure 24) while the gain (figure 25) does not degrade to such an extent.




  

Figure 23: Turnstile on top of satellite frame


Deployment Circuit
The requirements considered for the deployment circuit were:
               1. Could be actuated with standard CubeSat bus power and voltage lev- els available.
               2. Uses Commerical Off-The Shelf (COTS) components.


  

Figure 30: 3D radiation pattern - GainTotal(dB)


               3. Has space-proven heritage
               4. Inexpensive enough for a student satellite team to afford it
Keeping the above factors in mind, research led to the nichrome burn- wire release mechanism [2]. The circuit designed for deployment is shown in figure 31. It uses IRF540N, an NMOS power MOSFET which acts as a switch. On receiving deployment instruction in the form of a gate pulse, a current of about 0.64 A flows through the ceramic drain resistance of 5.6 Ω, producing sufficient heat to burn the Nylon wire wound across the antenna doors.
  

Figure 31: Deployment Circuit Schematic


3.8        Ground Station
System Design
The goal of the ground station is to be able to communicate with the satel- lite without human interference. This means that the ground station must be able to receive data from the satellite and send some predetermined commands (kill switch). A basic ground station thus consists of hardware and software to transmit and receive data reliably. The components include transmitters and receive antennas, a computer with orbital-prediction software, compatible with the hardware for auto-tracking, and a transceiver to transmit and receive data. Figure 32 shows the block diagram of ground station system. The over- all communications description of the satellite−ground station system is depicted in figure 33.
  

Figure 32: Representative Diagram of Ground Station Design Require- ments




Antennas
Yagi-Uda antennas and helical antennas are commonly used for ground stations. Yagi-Uda antennas are known to be more directional than heli- cal antennas, which have beam widths more than 900. While using Yagi antennas, the pointing accuracy has to be traded off with that of helical an- tennas. Crossed Yagi antennas, being the more efficient antennas, will be








  





Figure 33: Communications Description: Team Anant’s Telemetry and Ground Station


used in our ground station design. Using dish antennas is not feasible at low frequencies at which we wish to operate. Hence, we decided to use crossed Yagi antennas, crossed so as to acheive circular polarization. The CAD model for the same has been developed using Solidworks and shown in figure 34.






  

Figure 34: Initial CAD model of turnstile antenna


The antenna to be used for downlink reception at the ground station is a crossed yagi antenna operating at a frequency of 868 MHz. S
  

Figure 35: 3D model of UHF antenna with radiation pattern


The antenna was thus constructed physically in-house as per the pa-




  

Figure 36: UHF Crossed Yagi Gain pattern in φ and θ planes


rameters obtained from the simulation. The elements are attached on an aluminium boom. Phase quadrature between the excitations to the two driven elements is obtained by virtue of the distance between them. The antenna is presently undergoing final testing by Vector Network Analyzer for determining reflection coefficient and VSWR versus frequency. Several constraints (relating to soldering and feeding) from a structural and physi- cal perspective, are making the task of crossed yagi construction challeng- ing.
Another crossed yagi antenna operating at 144 MHz was designed for up- link from ground station. This is done in order to reduce the polarization losses by using circularly polarized EM wave. Using circularly polarized waves means that if sufficient power reaches the sender, the sender can pick up the signal by using a monopole antenna, which is much easier to implement on-board. The VHF antenna was simulated using 4NEC2, and a gain of 14 dB was obtained. The VSWR is close to 1 and good impedance matching is acheived in the desired frequency range of operation. Figure 37 is a snapshot of the 3D builder window of 4NEC2 which depicts the three dimensional radiation patterm. Figures 38 and 39 show the gain pattern versus φ and antenna paramters respectively.


        Ground Station Components
        Low Noise Amplifier (LNA)
For LNAs, the primary parameters are noise figure (NF), gain, and linearity. On satellite ground stations, an LNA, or low noise amplifier, is often placed close to the antenna . Power consumption and efficiency in the LNA are
  

Figure 37: 3D model of VHF antenna with radiation pattern (3D Builder, 4NEC2)
  

Figure 38: VHF Crossed Yagi Gain pattern in φ plane




  

Figure 39: Antenna parameters (Snapshot of main window of 4NEC2)


generally not the primary concerns. The function of the LNA is to take the extremely weak and uncertain signal from the antenna, usually on the order of microvolts or under ˘100 dBm and amplify it to a more useful level. SP-7000 has been selected as low noise amplifier for our ground station. Table 7 lists the specifications of SSB SP-7000.


Table 7: Low Noise Amplifier SP-7000 specifications


Parameter
	Specification
	Gain
	20 dB
	Capacity (RF switching)
	100 W
	Capacity (P.T.T.)
	500 W
	Noise Figure
	0.9 dB
	Insertion Loss
	0.3 dB
	Bandwidth
	430 - 440 MHz
	Current consumption
	250 mA
	Operating Voltage
	12 - 14 V
	



This LNA is rated with an excellent performance and is very practical. SP- 7000 is powered from the radio through its coaxial connection with a DC voltage at 13.8 volts applied to the centre conductor. This eliminates the need for an additional power cable.


Transceiver
The transceiver used for the satellite ground station is Kenwood TS-2000 [18]. It is an all band VHF/UHF transceiver with versatile connectivity op- tions. There are two operation modes: main and sub, which can be used for UHF and VHF respectively allowing us to listen/transmit on both channels without having to switch manually. There are two important interfaces: one for frequency control and the other for received baseband audio signals (containing telemetry and housekeeping data). There is a COM port pro- vided in the transceiver which allows us to serially connect it to a PC. The PC running a radio control s/w (like ARCP from Kenwood) can be used to set the transmission frequency and doppler shift remotely as well as change other settings. The other interface is an audio output from the transceiver external speaker jack that is inserted into the Line In of the ground station PC. This audio data is processed by a satellite decoding s/w (Ham Radio Deluxe, discussed later) using the PC’s sound-card.
To ensure proper connection, a sound card interface circuit may be de-
  

Figure 40: Schematic of the transceiver to sound card interface circuit


signed, as shown in figure 40. This will protect the soundcard from high current that may flow from the transceiver and also provides isolation from the transceiver, although they can be directly connected too.


AX.25 Implementation on Ground Station PC
For participation in a network via the AX.25 protocol a Terminal Node con- troller(TNC) is generally used. It is a combination of microcontroller with a software to encode and decode AX.25 packets, modem and an antenna. It’s function are:


               1. Assembling a packet from data received from the computer.
               2. Computing an error check (CRC) for the packet.
               3. Reverse the process.
We will be using a virtual TNC as it gives better results and reduces costs compared to its hardware counterpart. A virtual TNC works by con- necting the radio to the “soundcard” interface of a computer and using software to decode the bit stream. The software which we are using is DIREWOLF (Ubuntu). It is an open source software and its full form is Decoded Information for Radio Emissions for Windows and Linux (DIRE- WOLF) [19]. We have worked out the functionalities of this software: con- figuring of AX.25 ports, logging and decoding of packets etc. Figure 41 shows Direwolf running on Windows and receiving packets. Information is color coded. The green color represents received packets, blue represents decoded version of the received packets and red represents errors.
  

Figure 41: Schematic of the transceiver to sound card interface circuit




Rotor control and Satellite Tracking
A rotor assembly is needed in order to point the antenna directly towards the satellite. The hardware as well as software aspects of the rotor drive and control are detailed in this section. Figure 42 is a block diagram of the rotor control circuitry.
  

Figure 42: Block diagram for the rotor control


Hardware
The Hardware Setup comprises of the rotor controller and the circuitry to support it. The rotor was decided to be built in-house as the commer- cially available one is expensive. Two stepper motors will be used for this purpose - one for the azimuth rotation and the other for elevation. The CAD model for the rotor can be seen in figure 43.Worm gears were used for torque magnification and reducing the step size of the stepper motor. Worm gears were chosen as they provide mechanical locking.




  

Figure 43: CAD model of the rotor setup


The hardware components and specifications are listed below:


               1. An indigenously designed and built gear box. Construction is com- pleted and testing going on.
               2. DRV8825 is a motor driving shield intended for driving bipolar step- per motor.
8.2 V to 45 V Operating Supply Voltage Range
2.5 A maximum drive current at 24V Ambient temperature = 25 Degree Celsius


               3. The Arduino Uno is a microcontroller board based on ATmega328. It has one I2C interface for interfacing the driver.
               4. Two NEMA 23 stepper motors have been used. One motor is for ele- vation and other one is for azimuthal of the antenna.
Voltage: 12-36V Current: 3.2 A DC Torque: 10.1 Kg-cm
Step Angle: 1.8 deg / step Shaft Diameter: 6.3mm




  

Figure 44: Detailed connection of Driver Circuit DRV8825


Software
SatNOGS: SatNOGS is an open-source project designed to create a global network of satellite ground stations. It enables efficient tracking, receiving, and decoding of satellite signals, with an emphasis on low-Earth orbit (LEO) satellites. he SatNOGS ecosystem includes:
               * SatNOGS Network – A global infrastructure of ground stations that schedule and record satellite passes.
               * SatNOGS DB – A crowdsourced and community-maintained database of satellite transmitters and metadata.
               * SatNOGS Client – Open-source software that automates satellite tracking, recording, and decoding.
               * SatNOGS Dashboard – A user-friendly interface for station operators and data contributors.
Signal Decoding Process
The SatNOGS decoding workflow consists of several stages:
               1. Scheduling and Initiation
               * The SatNOGS Network schedules a satellite observation based on predicted pass data (from NORAD TLEs which will be received in a few hours/days depending on the time it takes for the satellite’s orbit to stabilize).
               * The ground station retrieves the schedule and initiates the observation.
               2. Signal Acquisition and Recording
               * SDR hardware captures the raw IQ (in-phase and quadrature) signal.
               * The signal is filtered, amplified, and down-converted as needed.
               * A waterfall plot and audio recordings are generated for visual and archival reference.
               3. Demodulation (GNU Radio Flowgraphs)
               * A 2-FSK flowgraph  is selected
               * The signal is demodulated to a binary stream (bits or frames), with forward error correction (FEC) handling.
               4. Decoding and Telemetry Extraction
               * The binary stream is passed to a decoder (often integrated into satnogs-decoders or gr-satellites).
               * AX.25 specific logic is applied.
               * Telemetry parameters (housekeeping and payload data) are parsed and structured.








Rotor Control Code:  The code always has the current location of the ro- tor which it calculates based on previous movements of the motor, so in this way no sensors are required to locate the rotor’s current position. Ini- tially we planned on including an accelerometer and a magnetometer also in our rotor but because of this we don’t require it now. The code locks the motor when it is not under any command to move, to prevent possibilities of error. Also based on the distance to move from current position it deter- mines the optimum speed and acceleration with which the antenna should be moved to achieve the target position. This prevents any damage due to jerks to the antenna.


Arduino IDE:  The SatNOGS rotator controller, running on an Arduino with the SatNOGS firmware, controls rotor movements by receiving azimuth and elevation commands via the EasyComm protocol over a serial connection. These commands, sent by the SatNOGS Client through Hamlib (rotctl), are processed by the firmware to drive stepper motors using motor drivers like A4988 or DRV8825. The firmware translates the position commands into precise motor steps, adjusting the antenna's orientation to track the cubesat accurately throughout their pass.






Link Budget: Telemetry Data Downlink


Parameter
	Value
	Remarks
	Transceiver Power Output
	10 dBm = −20 dB
	Pout        corresponding        to
CC1101 data sheet
	Power Amplifier Gain
	15dB
	Gain specified in THS9001
datasheet:        15dB        to 15.8dB
	Satellite transmission Loss
	4dB
	Maximum        value        found
from        survey        of        other CubeSats
	Antenna Gain
	1.6197dB
	Peak gain from HFSS sim-
ulations
	Satellite EIRP
	−20
+15
−4
+1.6197
=−7.3803dB
	Effective Isotropic Radi-
ated Power from transmit- ter
	Altitude of the satellite
	607km
	          
	Free Space Path Loss (FSPL)
	Minimum = 140.9 dB
Maximum = 151.30 dB
	FSPL = 20 × log 4πd
λ
	Atmospheric Loss
	2.1 dB
	[22]
	Ionospheric Loss
	0.4 dB
	[21], [22], [27]
	Polarization Loss
	3 dB
	Worst case when down-
linking via linear polar- ized dipole, and receiving using circularly polarized antenna
	Pointing Loss
	1 dB
	[28]
	Isotropic Signal at GS, Pr
	Minimum = −168.2 dB
Maximum = −154.8 dB
	Satellite EIRP − Losses
	Antenna Noise Temperature, Ta
	290 K
	[27]
	Cascaded Noise Factor
	1.44
	[27]
	Component Noise Temperature, Tcomp
	127.04 K
	[27]
	System Noise Temperature
	290 + 172.04
= 417.04 K
	

	Receiving Antenna Gain
	17.94 dB
	From 4NEC2 simulations
	Data Rate
	9600 bps
	Assumed
	Eb/N◦
	Minimum = 18.97 dB
Maximum = 29.08 dB
	

	Eb/N◦ @ BER 10−5 for GMSK
	11.429 dB
	Error probability Pe =
0.68 for BT = 0.3, GMSK
	Link Margin
	Worst Case = 7.572 dB
Best Case = 17.65 dB
	

	











Link Budget: Beacon Downlink


Parameter
	Value
	Remarks
	Transceiver Power Output
	10 dBm = −20 dB
	Pout        corresponding        to
MAX1472 data sheet
	Power Amplifier Gain
	15dB
	Gain specified in THS9001
datasheet:        15dB        to 15.8dB
	Satellite transmission Loss
	4dB
	Maximum        value        found
from        survey        of        other CubeSats
	Antenna Gain
	1.6197dB
	Peak gain from HFSS sim-
ulations
	Satellite EIRP
	−20
+15
−4
+1.6197
=−7.3803dB
	Effective Isotropic Radi-
ated Power from transmit- ter
	Altitude of the satellite
	607km
	          
	Free Space Path Loss (FSPL)
	Minimum = 140.9 dB
Maximum = 151.30 dB
	FSPL = 20 × log 4πd
λ
	Atmospheric Loss
	2.1 dB
	[22]
	Ionospheric Loss
	0.4 dB
	[21], [22], [27]
	Polarization Loss
	3 dB
	Worst case when down-
linking via linear polar- ized dipole, and receiving using circularly polarized antenna
	Pointing Loss
	1 dB
	[28]
	Isotropic Signal at GS, Pr
	Minimum = −168.2 dB
Maximum = −154.8 dB
	(Satellite        EIRP)        −
(Losses)
	Antenna Noise Temperature, Ta
	290 K
	[27]
	Cascaded Noise Factor
	1.44
	[27]
	Component Noise Temperature, Tcomp
	127.04 K
	[27]
	System Noise Temperature
	290 + 172.04
= 417.04 K
	

	Receiving Antenna Gain
	17.94 dB
	From 4NEC2 simulations
	Data Rate
	1200 bps
	Assumed
	Eb/N◦
	Minimum = 14.28 dB
Maximum = 24.86 dB
	

	Eb/N◦ @ BER 10−5 for ASK/OOK
	13.25 dB
	

	Link Margin
	Worst Case = 28.01 dB
Best Case = 38.11 dB
	

	











Link Budget: Uplink


Parameter
	Value
	Remarks
	Transceiver Power Output
	16.9897 dB
	Pout Kenwood Transceiver
Specifications [18]
	GS Transmission Losses
	6dB
	Conservative        estimate
from [22]
	Antenna Gain
	13.46dBi
	Peak gain from 4NEC2
simulations
	Satellite EIRP
	16.9897
−6
+13.46
=24.4497dBW
	Effective Isotropic Radi-
ated Power from GS
	Altitude of the satellite
	607km
	          
	Free Space Path Loss (FSPL)
	Minimum = 131.4 dB
Maximum = 141.50 dB
	FSPL = 20 × log 4πd
λ
	Atmospheric Loss
	2.1 dB
	[22]
	Ionospheric Loss
	0.4 dB
	[21], [22], [27]
	Polarization Loss
	3 dB
	Worst case when down-
linking via linear polar- ized dipole, and receiving using circularly polarized antenna
	Pointing Loss
	1 dB
	[28]
	Isotropic Signal at receiver, Pr
	Minimum = −123.7 dB
Maximum = −113.6 dB
	Satellite EIRP − Losses
	Antenna Noise Temperature, Ta
	290 K
	[27]
	Cascaded Noise Factor
	1.35
	[27]
	Component Noise Temperature, Tcomp
	127.04 K
	[27]
	System Noise Temperature
	290 + 172.04
= 417.04 K
	

	Receiving Antenna Gain
	17.94 dB
	From 4NEC2 simulations
	Data Rate
	1200 bps
	Assumed
	Eb/N◦
	Minimum = 51.21 dB
Maximum = 61.32 dB
	

	Eb/N◦ @ BER 10−5 for GMSK
	11.429 dB
	Error probability Pe =
0.68 for BT = 0.3, GMSK
	Link Margin
	Worst Case = 39.76 dB
Best Case = 49.89 dB
	

	

3.9        Telemetry Flightplan
The sequence of modes on the following page provides an overview of sub- system tasks and operation sequence for the on-board communication sys- tem. The terminology of the modes is consistent with the overall modes of operation of the nano-satellite, as determined through discussions on sys- tem engineering and integration.




Antenna Contingency: The telemetry system on-board is switched on by the On-Board Computing (henceforth referred to as OBC) system. The OBC hands out a configuration file to the telemetry MCU, providing details of functional antenna configurations as a result of deployment status of each antenna element. This is useful for telemetry as it can shift to a contin- gency mode if one or more elements of the antennas were not deployed. A turnstile can independently function with either of the two dipole elements working, a redundancy that shall be exploited during exigencies. Also, if only the monopole, or only the turnstile is deployed while the other is not, it is possible for the system to shift to a half-duplex system (duplexed in time) where communication shall occur only in UHF or VHF (depending on which antenna is functional). The configuration file received from the OBC will decide the system configuration. This forms the initialization (INIT) mode.


Basic Telemetry Operation (BTO): In its IDLE mode, the telemetry MCU retreives data from a memory shared with the OBC. It encapsulates all data into AX.25 packets and stores it back into separate memory partitions de- pending on whether it is advanced beacon data or payload image data. As of now, it is planned to use a separate uplink MCU, that can serve as a redundant MCU for the EPS as well.The OBC can estimate when the pass is near, and instruct the telemetry MCU to move to HANDSHAKE mode. Regardless of OBC instruction, the uplink MCU will keep listening for a signal in the IDLE mode. As soon as an uplink is received, it interrupts the telemetry MCU to complete the handhake and begin data downlink.


Handshake: This mode establishes the connection between the satellite and ground station so as to initiate TLE uplink and data downlink. The uplink MCU will receive the handshake packet being continuously trans- mitted by the ground station. This packet will also contain TLE informa- tion that the OBC will process. The telemetry downlink MCU shall receive an interrupt from the uplink MCU as soon as the handshake packet is received, and it will acknowledge the  establishment of connection.


Data downlink: Once link has been established, the satellite downlinks image data to the ground station. We have decided to use connection- oriented mode of AX.25 protocol which supports ARQ. The ground sta- tion will send the packet numbers of packets received in error after a fixed number of packets are received. The uplink MCU will forward these re- transmission requests to the telemetry MCU, again through interrupts, and the packets in question will be retransmitted.


Transceiver Contigency:  The following contingency modes are possible:


               * CC1101 replaces OOK (beacon redundancy)
               * CC1101 failure ⇒ ADF7021 needs to take over in half-duplex connection.
               * ADF7021 failure ⇒ CC1101 needs to take over in half-duplex connection.


4.0